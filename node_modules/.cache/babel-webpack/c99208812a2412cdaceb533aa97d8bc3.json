{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isScheduler_1 = require(\"../util/isScheduler\");\n\nvar isArray_1 = require(\"../util/isArray\");\n\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\n\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\n\nvar fromArray_1 = require(\"./fromArray\");\n\nvar NONE = {};\n\nfunction combineLatest() {\n  var observables = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    observables[_i] = arguments[_i];\n  }\n\n  var resultSelector = undefined;\n  var scheduler = undefined;\n\n  if (isScheduler_1.isScheduler(observables[observables.length - 1])) {\n    scheduler = observables.pop();\n  }\n\n  if (typeof observables[observables.length - 1] === 'function') {\n    resultSelector = observables.pop();\n  }\n\n  if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n    observables = observables[0];\n  }\n\n  return fromArray_1.fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\n\nexports.combineLatest = combineLatest;\n\nvar CombineLatestOperator = function () {\n  function CombineLatestOperator(resultSelector) {\n    this.resultSelector = resultSelector;\n  }\n\n  CombineLatestOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n  };\n\n  return CombineLatestOperator;\n}();\n\nexports.CombineLatestOperator = CombineLatestOperator;\n\nvar CombineLatestSubscriber = function (_super) {\n  __extends(CombineLatestSubscriber, _super);\n\n  function CombineLatestSubscriber(destination, resultSelector) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.resultSelector = resultSelector;\n    _this.active = 0;\n    _this.values = [];\n    _this.observables = [];\n    return _this;\n  }\n\n  CombineLatestSubscriber.prototype._next = function (observable) {\n    this.values.push(NONE);\n    this.observables.push(observable);\n  };\n\n  CombineLatestSubscriber.prototype._complete = function () {\n    var observables = this.observables;\n    var len = observables.length;\n\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      this.active = len;\n      this.toRespond = len;\n\n      for (var i = 0; i < len; i++) {\n        var observable = observables[i];\n        this.add(subscribeToResult_1.subscribeToResult(this, observable, undefined, i));\n      }\n    }\n  };\n\n  CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n    if ((this.active -= 1) === 0) {\n      this.destination.complete();\n    }\n  };\n\n  CombineLatestSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n    var values = this.values;\n    var oldVal = values[outerIndex];\n    var toRespond = !this.toRespond ? 0 : oldVal === NONE ? --this.toRespond : this.toRespond;\n    values[outerIndex] = innerValue;\n\n    if (toRespond === 0) {\n      if (this.resultSelector) {\n        this._tryResultSelector(values);\n      } else {\n        this.destination.next(values.slice());\n      }\n    }\n  };\n\n  CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n    var result;\n\n    try {\n      result = this.resultSelector.apply(this, values);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  };\n\n  return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber);\n\nexports.CombineLatestSubscriber = CombineLatestSubscriber; //# sourceMappingURL=combineLatest.js.map","map":{"version":3,"sources":["/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/rxjs/internal/observable/combineLatest.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","isScheduler_1","require","isArray_1","OuterSubscriber_1","subscribeToResult_1","fromArray_1","NONE","combineLatest","observables","_i","arguments","length","resultSelector","undefined","scheduler","isScheduler","pop","isArray","fromArray","lift","CombineLatestOperator","call","subscriber","source","subscribe","CombineLatestSubscriber","_super","destination","_this","active","values","_next","observable","push","_complete","len","complete","toRespond","i","add","subscribeToResult","notifyComplete","unused","notifyNext","_outerValue","innerValue","outerIndex","oldVal","_tryResultSelector","next","slice","result","apply","err","error","OuterSubscriber"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar isArray_1 = require(\"../util/isArray\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar fromArray_1 = require(\"./fromArray\");\nvar NONE = {};\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var resultSelector = undefined;\n    var scheduler = undefined;\n    if (isScheduler_1.isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        resultSelector = observables.pop();\n    }\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray_1.fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\nexports.combineLatest = combineLatest;\nvar CombineLatestOperator = (function () {\n    function CombineLatestOperator(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    };\n    return CombineLatestOperator;\n}());\nexports.CombineLatestOperator = CombineLatestOperator;\nvar CombineLatestSubscriber = (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, resultSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.resultSelector = resultSelector;\n        _this.active = 0;\n        _this.values = [];\n        _this.observables = [];\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult_1.subscribeToResult(this, observable, undefined, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.resultSelector) {\n                this._tryResultSelector(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n        var result;\n        try {\n            result = this.resultSelector.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.CombineLatestSubscriber = CombineLatestSubscriber;\n//# sourceMappingURL=combineLatest.js.map"]},"metadata":{},"sourceType":"script"}