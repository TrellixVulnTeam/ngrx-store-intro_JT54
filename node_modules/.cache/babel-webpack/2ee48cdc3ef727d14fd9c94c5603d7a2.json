{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toArray from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Injectable, InjectionToken, Inject, isDevMode, NgZone, NgModule, Optional, SkipSelf, Injector } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject, queueScheduler } from 'rxjs';\nimport { observeOn, withLatestFrom, scan, pluck, map, distinctUntilChanged } from 'rxjs/operators';\nimport * as ɵngcc0 from '@angular/core';\nvar REGISTERED_ACTION_TYPES = {};\n\nfunction resetRegisteredActionTypes() {\n  for (var _i = 0, _Object$keys = Object.keys(REGISTERED_ACTION_TYPES); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    delete REGISTERED_ACTION_TYPES[key];\n  }\n}\n/**\n * @description\n * Creates a configured `Creator` function that, when called, returns an object in the shape of the `Action` interface.\n *\n * Action creators reduce the explicitness of class-based action creators.\n *\n * @param type Describes the action that will be dispatched\n * @param config Additional metadata needed for the handling of the action.  See {@link createAction#usage-notes Usage Notes}.\n *\n * @usageNotes\n *\n * **Declaring an action creator**\n *\n * Without additional metadata:\n * ```ts\n * export const increment = createAction('[Counter] Increment');\n * ```\n * With additional metadata:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   props<{ user: User }>()\n * );\n * ```\n * With a function:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   (response: Response) => response.user\n * );\n * ```\n *\n * **Dispatching an action**\n *\n * Without additional metadata:\n * ```ts\n * store.dispatch(increment());\n * ```\n * With additional metadata:\n * ```ts\n * store.dispatch(loginSuccess({ user: newUser }));\n * ```\n *\n * **Referencing an action in a reducer**\n *\n * Using a switch statement:\n * ```ts\n * switch (action.type) {\n *   // ...\n *   case AuthApiActions.loginSuccess.type: {\n *     return {\n *       ...state,\n *       user: action.user\n *     };\n *   }\n * }\n * ```\n * Using a reducer creator:\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n *\n *  **Referencing an action in an effect**\n * ```ts\n * effectName$ = createEffect(\n *   () => this.actions$.pipe(\n *     ofType(AuthApiActions.loginSuccess),\n *     // ...\n *   )\n * );\n * ```\n */\n\n\nfunction createAction(type, config) {\n  REGISTERED_ACTION_TYPES[type] = (REGISTERED_ACTION_TYPES[type] || 0) + 1;\n\n  if (typeof config === 'function') {\n    return defineType(type, function () {\n      return Object.assign(Object.assign({}, config.apply(void 0, arguments)), {\n        type: type\n      });\n    });\n  }\n\n  var as = config ? config._as : 'empty';\n\n  switch (as) {\n    case 'empty':\n      return defineType(type, function () {\n        return {\n          type: type\n        };\n      });\n\n    case 'props':\n      return defineType(type, function (props) {\n        return Object.assign(Object.assign({}, props), {\n          type: type\n        });\n      });\n\n    default:\n      throw new Error('Unexpected config.');\n  }\n}\n\nfunction props() {\n  return {\n    _as: 'props',\n    _p: undefined\n  };\n}\n\nfunction union(creators) {\n  return undefined;\n}\n\nfunction defineType(type, creator) {\n  return Object.defineProperty(creator, 'type', {\n    value: type,\n    writable: false\n  });\n}\n\nvar INIT = '@ngrx/store/init';\n\nvar ActionsSubject = /*#__PURE__*/function (_BehaviorSubject) {\n  _inherits(ActionsSubject, _BehaviorSubject);\n\n  var _super = _createSuper(ActionsSubject);\n\n  function ActionsSubject() {\n    _classCallCheck(this, ActionsSubject);\n\n    return _super.call(this, {\n      type: INIT\n    });\n  }\n\n  _createClass(ActionsSubject, [{\n    key: \"next\",\n    value: function next(action) {\n      if (typeof action === 'function') {\n        throw new TypeError(\"\\n        Dispatch expected an object, instead it received a function.\\n        If you're using the createAction function, make sure to invoke the function\\n        before dispatching the action. For example, someAction should be someAction().\");\n      } else if (typeof action === 'undefined') {\n        throw new TypeError(\"Actions must be objects\");\n      } else if (typeof action.type === 'undefined') {\n        throw new TypeError(\"Actions must have a type property\");\n      }\n\n      _get(_getPrototypeOf(ActionsSubject.prototype), \"next\", this).call(this, action);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      /* noop */\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      _get(_getPrototypeOf(ActionsSubject.prototype), \"complete\", this).call(this);\n    }\n  }]);\n\n  return ActionsSubject;\n}(BehaviorSubject);\n\nActionsSubject.ɵfac = function ActionsSubject_Factory(t) {\n  return new (t || ActionsSubject)();\n};\n\nActionsSubject.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: ActionsSubject,\n  factory: ActionsSubject.ɵfac\n});\n/** @nocollapse */\n\nActionsSubject.ctorParameters = function () {\n  return [];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ActionsSubject, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n\nvar ACTIONS_SUBJECT_PROVIDERS = [ActionsSubject];\n\nvar _ROOT_STORE_GUARD = new InjectionToken('@ngrx/store Internal Root Guard');\n\nvar _INITIAL_STATE = new InjectionToken('@ngrx/store Internal Initial State');\n\nvar INITIAL_STATE = new InjectionToken('@ngrx/store Initial State');\nvar REDUCER_FACTORY = new InjectionToken('@ngrx/store Reducer Factory');\n\nvar _REDUCER_FACTORY = new InjectionToken('@ngrx/store Internal Reducer Factory Provider');\n\nvar INITIAL_REDUCERS = new InjectionToken('@ngrx/store Initial Reducers');\n\nvar _INITIAL_REDUCERS = new InjectionToken('@ngrx/store Internal Initial Reducers');\n\nvar STORE_FEATURES = new InjectionToken('@ngrx/store Store Features');\n\nvar _STORE_REDUCERS = new InjectionToken('@ngrx/store Internal Store Reducers');\n\nvar _FEATURE_REDUCERS = new InjectionToken('@ngrx/store Internal Feature Reducers');\n\nvar _FEATURE_CONFIGS = new InjectionToken('@ngrx/store Internal Feature Configs');\n\nvar _STORE_FEATURES = new InjectionToken('@ngrx/store Internal Store Features');\n\nvar _FEATURE_REDUCERS_TOKEN = new InjectionToken('@ngrx/store Internal Feature Reducers Token');\n\nvar FEATURE_REDUCERS = new InjectionToken('@ngrx/store Feature Reducers');\n/**\n * User-defined meta reducers from StoreModule.forRoot()\n */\n\nvar USER_PROVIDED_META_REDUCERS = new InjectionToken('@ngrx/store User Provided Meta Reducers');\n/**\n * Meta reducers defined either internally by @ngrx/store or by library authors\n */\n\nvar META_REDUCERS = new InjectionToken('@ngrx/store Meta Reducers');\n/**\n * Concats the user provided meta reducers and the meta reducers provided on the multi\n * injection token\n */\n\nvar _RESOLVED_META_REDUCERS = new InjectionToken('@ngrx/store Internal Resolved Meta Reducers');\n/**\n * Runtime checks defined by the user via an InjectionToken\n * Defaults to `_USER_RUNTIME_CHECKS`\n */\n\n\nvar USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store User Runtime Checks Config');\n/**\n * Runtime checks defined by the user via forRoot()\n */\n\nvar _USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal User Runtime Checks Config');\n/**\n * Runtime checks currently in use\n */\n\n\nvar ACTIVE_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal Runtime Checks');\n\nvar _ACTION_TYPE_UNIQUENESS_CHECK = new InjectionToken('@ngrx/store Check if Action types are unique');\n/**\n * @description\n * Combines reducers for individual features into a single reducer.\n *\n * You can use this function to delegate handling of state transitions to multiple reducers, each acting on their\n * own sub-state within the root state.\n *\n * @param reducers An object mapping keys of the root state to their corresponding feature reducer.\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * **Example combining two feature reducers into one \"root\" reducer**\n *\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * });\n * ```\n *\n * You can also override the initial states of the sub-features:\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * }, {\n *   featureA: { counterA: 13 },\n *   featureB: { counterB: 37 }\n * });\n * ```\n */\n\n\nfunction combineReducers(reducers) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  return function combination(state, action) {\n    state = state === undefined ? initialState : state;\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i2 = 0; _i2 < finalReducerKeys.length; _i2++) {\n      var _key = finalReducerKeys[_i2];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction omit(object, keyToRemove) {\n  return Object.keys(object).filter(function (key) {\n    return key !== keyToRemove;\n  }).reduce(function (result, key) {\n    return Object.assign(result, _defineProperty({}, key, object[key]));\n  }, {});\n}\n\nfunction compose() {\n  for (var _len = arguments.length, functions = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    functions[_key2] = arguments[_key2];\n  }\n\n  return function (arg) {\n    if (functions.length === 0) {\n      return arg;\n    }\n\n    var last = functions[functions.length - 1];\n    var rest = functions.slice(0, -1);\n    return rest.reduceRight(function (composed, fn) {\n      return fn(composed);\n    }, last(arg));\n  };\n}\n\nfunction createReducerFactory(reducerFactory, metaReducers) {\n  if (Array.isArray(metaReducers) && metaReducers.length > 0) {\n    reducerFactory = compose.apply(null, [].concat(_toConsumableArray(metaReducers), [reducerFactory]));\n  }\n\n  return function (reducers, initialState) {\n    var reducer = reducerFactory(reducers);\n    return function (state, action) {\n      state = state === undefined ? initialState : state;\n      return reducer(state, action);\n    };\n  };\n}\n\nfunction createFeatureReducerFactory(metaReducers) {\n  var reducerFactory = Array.isArray(metaReducers) && metaReducers.length > 0 ? compose.apply(void 0, _toConsumableArray(metaReducers)) : function (r) {\n    return r;\n  };\n  return function (reducer, initialState) {\n    reducer = reducerFactory(reducer);\n    return function (state, action) {\n      state = state === undefined ? initialState : state;\n      return reducer(state, action);\n    };\n  };\n}\n\nvar ReducerObservable = /*#__PURE__*/function (_Observable) {\n  _inherits(ReducerObservable, _Observable);\n\n  var _super2 = _createSuper(ReducerObservable);\n\n  function ReducerObservable() {\n    _classCallCheck(this, ReducerObservable);\n\n    return _super2.apply(this, arguments);\n  }\n\n  return _createClass(ReducerObservable);\n}(Observable);\n\nvar ReducerManagerDispatcher = /*#__PURE__*/function (_ActionsSubject) {\n  _inherits(ReducerManagerDispatcher, _ActionsSubject);\n\n  var _super3 = _createSuper(ReducerManagerDispatcher);\n\n  function ReducerManagerDispatcher() {\n    _classCallCheck(this, ReducerManagerDispatcher);\n\n    return _super3.apply(this, arguments);\n  }\n\n  return _createClass(ReducerManagerDispatcher);\n}(ActionsSubject);\n\nvar UPDATE = '@ngrx/store/update-reducers';\n\nvar ReducerManager = /*#__PURE__*/function (_BehaviorSubject2) {\n  _inherits(ReducerManager, _BehaviorSubject2);\n\n  var _super4 = _createSuper(ReducerManager);\n\n  function ReducerManager(dispatcher, initialState, reducers, reducerFactory) {\n    var _this;\n\n    _classCallCheck(this, ReducerManager);\n\n    _this = _super4.call(this, reducerFactory(reducers, initialState));\n    _this.dispatcher = dispatcher;\n    _this.initialState = initialState;\n    _this.reducers = reducers;\n    _this.reducerFactory = reducerFactory;\n    return _this;\n  }\n\n  _createClass(ReducerManager, [{\n    key: \"addFeature\",\n    value: function addFeature(feature) {\n      this.addFeatures([feature]);\n    }\n  }, {\n    key: \"addFeatures\",\n    value: function addFeatures(features) {\n      var reducers = features.reduce(function (reducerDict, _ref) {\n        var reducers = _ref.reducers,\n            reducerFactory = _ref.reducerFactory,\n            metaReducers = _ref.metaReducers,\n            initialState = _ref.initialState,\n            key = _ref.key;\n        var reducer = typeof reducers === 'function' ? createFeatureReducerFactory(metaReducers)(reducers, initialState) : createReducerFactory(reducerFactory, metaReducers)(reducers, initialState);\n        reducerDict[key] = reducer;\n        return reducerDict;\n      }, {});\n      this.addReducers(reducers);\n    }\n  }, {\n    key: \"removeFeature\",\n    value: function removeFeature(feature) {\n      this.removeFeatures([feature]);\n    }\n  }, {\n    key: \"removeFeatures\",\n    value: function removeFeatures(features) {\n      this.removeReducers(features.map(function (p) {\n        return p.key;\n      }));\n    }\n  }, {\n    key: \"addReducer\",\n    value: function addReducer(key, reducer) {\n      this.addReducers(_defineProperty({}, key, reducer));\n    }\n  }, {\n    key: \"addReducers\",\n    value: function addReducers(reducers) {\n      this.reducers = Object.assign(Object.assign({}, this.reducers), reducers);\n      this.updateReducers(Object.keys(reducers));\n    }\n  }, {\n    key: \"removeReducer\",\n    value: function removeReducer(featureKey) {\n      this.removeReducers([featureKey]);\n    }\n  }, {\n    key: \"removeReducers\",\n    value: function removeReducers(featureKeys) {\n      var _this2 = this;\n\n      featureKeys.forEach(function (key) {\n        _this2.reducers = omit(_this2.reducers, key)\n        /*TODO(#823)*/\n        ;\n      });\n      this.updateReducers(featureKeys);\n    }\n  }, {\n    key: \"updateReducers\",\n    value: function updateReducers(featureKeys) {\n      this.next(this.reducerFactory(this.reducers, this.initialState));\n      this.dispatcher.next({\n        type: UPDATE,\n        features: featureKeys\n      });\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.complete();\n    }\n  }]);\n\n  return ReducerManager;\n}(BehaviorSubject);\n\nReducerManager.ɵfac = function ReducerManager_Factory(t) {\n  return new (t || ReducerManager)(ɵngcc0.ɵɵinject(ReducerManagerDispatcher), ɵngcc0.ɵɵinject(INITIAL_STATE), ɵngcc0.ɵɵinject(INITIAL_REDUCERS), ɵngcc0.ɵɵinject(REDUCER_FACTORY));\n};\n\nReducerManager.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: ReducerManager,\n  factory: ReducerManager.ɵfac\n});\n/** @nocollapse */\n\nReducerManager.ctorParameters = function () {\n  return [{\n    type: ReducerManagerDispatcher\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [INITIAL_STATE]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [INITIAL_REDUCERS]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [REDUCER_FACTORY]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ReducerManager, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ReducerManagerDispatcher\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_STATE]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_REDUCERS]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [REDUCER_FACTORY]\n      }]\n    }];\n  }, null);\n})();\n\nvar REDUCER_MANAGER_PROVIDERS = [ReducerManager, {\n  provide: ReducerObservable,\n  useExisting: ReducerManager\n}, {\n  provide: ReducerManagerDispatcher,\n  useExisting: ActionsSubject\n}];\n\nvar ScannedActionsSubject = /*#__PURE__*/function (_Subject) {\n  _inherits(ScannedActionsSubject, _Subject);\n\n  var _super5 = _createSuper(ScannedActionsSubject);\n\n  function ScannedActionsSubject() {\n    _classCallCheck(this, ScannedActionsSubject);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(ScannedActionsSubject, [{\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.complete();\n    }\n  }]);\n\n  return ScannedActionsSubject;\n}(Subject);\n\nScannedActionsSubject.ɵfac = function ScannedActionsSubject_Factory(t) {\n  return ɵScannedActionsSubject_BaseFactory(t || ScannedActionsSubject);\n};\n\nScannedActionsSubject.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: ScannedActionsSubject,\n  factory: ScannedActionsSubject.ɵfac\n});\nvar ɵScannedActionsSubject_BaseFactory = /*@__PURE__*/ɵngcc0.ɵɵgetInheritedFactory(ScannedActionsSubject);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ScannedActionsSubject, [{\n    type: Injectable\n  }], null, null);\n})();\n\nvar SCANNED_ACTIONS_SUBJECT_PROVIDERS = [ScannedActionsSubject];\n\nvar StateObservable = /*#__PURE__*/function (_Observable2) {\n  _inherits(StateObservable, _Observable2);\n\n  var _super6 = _createSuper(StateObservable);\n\n  function StateObservable() {\n    _classCallCheck(this, StateObservable);\n\n    return _super6.apply(this, arguments);\n  }\n\n  return _createClass(StateObservable);\n}(Observable);\n\nvar State = /*#__PURE__*/function (_BehaviorSubject3) {\n  _inherits(State, _BehaviorSubject3);\n\n  var _super7 = _createSuper(State);\n\n  function State(actions$, reducer$, scannedActions, initialState) {\n    var _this3;\n\n    _classCallCheck(this, State);\n\n    _this3 = _super7.call(this, initialState);\n    var actionsOnQueue$ = actions$.pipe(observeOn(queueScheduler));\n    var withLatestReducer$ = actionsOnQueue$.pipe(withLatestFrom(reducer$));\n    var seed = {\n      state: initialState\n    };\n    var stateAndAction$ = withLatestReducer$.pipe(scan(reduceState, seed));\n    _this3.stateSubscription = stateAndAction$.subscribe(function (_ref2) {\n      var state = _ref2.state,\n          action = _ref2.action;\n\n      _this3.next(state);\n\n      scannedActions.next(action);\n    });\n    return _this3;\n  }\n\n  _createClass(State, [{\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.stateSubscription.unsubscribe();\n      this.complete();\n    }\n  }]);\n\n  return State;\n}(BehaviorSubject);\n\nState.ɵfac = function State_Factory(t) {\n  return new (t || State)(ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerObservable), ɵngcc0.ɵɵinject(ScannedActionsSubject), ɵngcc0.ɵɵinject(INITIAL_STATE));\n};\n\nState.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: State,\n  factory: State.ɵfac\n});\nState.INIT = INIT;\n/** @nocollapse */\n\nState.ctorParameters = function () {\n  return [{\n    type: ActionsSubject\n  }, {\n    type: ReducerObservable\n  }, {\n    type: ScannedActionsSubject\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [INITIAL_STATE]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(State, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ActionsSubject\n    }, {\n      type: ReducerObservable\n    }, {\n      type: ScannedActionsSubject\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_STATE]\n      }]\n    }];\n  }, null);\n})();\n\nfunction reduceState() {\n  var stateActionPair = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    state: undefined\n  };\n\n  var _ref3 = arguments.length > 1 ? arguments[1] : undefined,\n      _ref4 = _slicedToArray(_ref3, 2),\n      action = _ref4[0],\n      reducer = _ref4[1];\n\n  var state = stateActionPair.state;\n  return {\n    state: reducer(state, action),\n    action: action\n  };\n}\n\nvar STATE_PROVIDERS = [State, {\n  provide: StateObservable,\n  useExisting: State\n}];\n\nvar Store = /*#__PURE__*/function (_Observable3) {\n  _inherits(Store, _Observable3);\n\n  var _super8 = _createSuper(Store);\n\n  function Store(state$, actionsObserver, reducerManager) {\n    var _this4;\n\n    _classCallCheck(this, Store);\n\n    _this4 = _super8.call(this);\n    _this4.actionsObserver = actionsObserver;\n    _this4.reducerManager = reducerManager;\n    _this4.source = state$;\n    return _this4;\n  }\n\n  _createClass(Store, [{\n    key: \"select\",\n    value: function select(pathOrMapFn) {\n      for (var _len2 = arguments.length, paths = new Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {\n        paths[_key3 - 1] = arguments[_key3];\n      }\n\n      return _select.call.apply(_select, [null, pathOrMapFn].concat(paths))(this);\n    }\n  }, {\n    key: \"lift\",\n    value: function lift(operator) {\n      var store = new Store(this, this.actionsObserver, this.reducerManager);\n      store.operator = operator;\n      return store;\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.actionsObserver.next(action);\n    }\n  }, {\n    key: \"next\",\n    value: function next(action) {\n      this.actionsObserver.next(action);\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      this.actionsObserver.error(err);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      this.actionsObserver.complete();\n    }\n  }, {\n    key: \"addReducer\",\n    value: function addReducer(key, reducer) {\n      this.reducerManager.addReducer(key, reducer);\n    }\n  }, {\n    key: \"removeReducer\",\n    value: function removeReducer(key) {\n      this.reducerManager.removeReducer(key);\n    }\n  }]);\n\n  return Store;\n}(Observable);\n\nStore.ɵfac = function Store_Factory(t) {\n  return new (t || Store)(ɵngcc0.ɵɵinject(StateObservable), ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerManager));\n};\n\nStore.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: Store,\n  factory: Store.ɵfac\n});\n/** @nocollapse */\n\nStore.ctorParameters = function () {\n  return [{\n    type: StateObservable\n  }, {\n    type: ActionsSubject\n  }, {\n    type: ReducerManager\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Store, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: StateObservable\n    }, {\n      type: ActionsSubject\n    }, {\n      type: ReducerManager\n    }];\n  }, null);\n})();\n\nvar STORE_PROVIDERS = [Store];\n\nfunction _select(pathOrMapFn, propsOrPath) {\n  for (var _len3 = arguments.length, paths = new Array(_len3 > 2 ? _len3 - 2 : 0), _key4 = 2; _key4 < _len3; _key4++) {\n    paths[_key4 - 2] = arguments[_key4];\n  }\n\n  return function selectOperator(source$) {\n    var mapped$;\n\n    if (typeof pathOrMapFn === 'string') {\n      var pathSlices = [propsOrPath].concat(paths).filter(Boolean);\n      mapped$ = source$.pipe(pluck.apply(void 0, [pathOrMapFn].concat(_toConsumableArray(pathSlices))));\n    } else if (typeof pathOrMapFn === 'function') {\n      mapped$ = source$.pipe(map(function (source) {\n        return pathOrMapFn(source, propsOrPath);\n      }));\n    } else {\n      throw new TypeError(\"Unexpected type '\".concat(typeof pathOrMapFn, \"' in select operator,\") + \" expected 'string' or 'function'\");\n    }\n\n    return mapped$.pipe(distinctUntilChanged());\n  };\n}\n\nvar _ngrxMockEnvironment = false;\n\nfunction setNgrxMockEnvironment(value) {\n  _ngrxMockEnvironment = value;\n}\n\nfunction isNgrxMockEnvironment() {\n  return _ngrxMockEnvironment;\n}\n\nfunction isEqualCheck(a, b) {\n  return a === b;\n}\n\nfunction isArgumentsChanged(args, lastArguments, comparator) {\n  for (var i = 0; i < args.length; i++) {\n    if (!comparator(args[i], lastArguments[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction resultMemoize(projectionFn, isResultEqual) {\n  return defaultMemoize(projectionFn, isEqualCheck, isResultEqual);\n}\n\nfunction defaultMemoize(projectionFn) {\n  var isArgumentsEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : isEqualCheck;\n  var isResultEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : isEqualCheck;\n  var lastArguments = null; // tslint:disable-next-line:no-any anything could be the result.\n\n  var lastResult = null;\n  var overrideResult;\n\n  function reset() {\n    lastArguments = null;\n    lastResult = null;\n  }\n\n  function setResult() {\n    var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    overrideResult = {\n      result: result\n    };\n  }\n\n  function clearResult() {\n    overrideResult = undefined;\n  } // tslint:disable-next-line:no-any anything could be the result.\n\n\n  function memoized() {\n    if (overrideResult !== undefined) {\n      return overrideResult.result;\n    }\n\n    if (!lastArguments) {\n      lastResult = projectionFn.apply(null, arguments);\n      lastArguments = arguments;\n      return lastResult;\n    }\n\n    if (!isArgumentsChanged(arguments, lastArguments, isArgumentsEqual)) {\n      return lastResult;\n    }\n\n    var newResult = projectionFn.apply(null, arguments);\n    lastArguments = arguments;\n\n    if (isResultEqual(lastResult, newResult)) {\n      return lastResult;\n    }\n\n    lastResult = newResult;\n    return newResult;\n  }\n\n  return {\n    memoized: memoized,\n    reset: reset,\n    setResult: setResult,\n    clearResult: clearResult\n  };\n}\n\nfunction createSelector() {\n  return createSelectorFactory(defaultMemoize).apply(void 0, arguments);\n}\n\nfunction defaultStateFn(state, selectors, props, memoizedProjector) {\n  if (props === undefined) {\n    var _args = selectors.map(function (fn) {\n      return fn(state);\n    });\n\n    return memoizedProjector.memoized.apply(null, _args);\n  }\n\n  var args = selectors.map(function (fn) {\n    return fn(state, props);\n  });\n  return memoizedProjector.memoized.apply(null, [].concat(_toConsumableArray(args), [props]));\n}\n/**\n *\n * @param memoize The function used to memoize selectors\n * @param options Config Object that may include a `stateFn` function defining how to return the selector's value, given the entire `Store`'s state, parent `Selector`s, `Props`, and a `MemoizedProjection`\n *\n * @usageNotes\n *\n * **Creating a Selector Factory Where Array Order Does Not Matter**\n *\n * ```ts\n * function removeMatch(arr: string[], target: string): string[] {\n *   const matchIndex = arr.indexOf(target);\n *   return [...arr.slice(0, matchIndex), ...arr.slice(matchIndex + 1)];\n * }\n *\n * function orderDoesNotMatterComparer(a: any, b: any): boolean {\n *   if (!Array.isArray(a) || !Array.isArray(b)) {\n *     return a === b;\n *   }\n *   if (a.length !== b.length) {\n *     return false;\n *   }\n *   let tempB = [...b];\n *   function reduceToDetermineIfArraysContainSameContents(\n *     previousCallResult: boolean,\n *     arrayMember: any\n *   ): boolean {\n *     if (previousCallResult === false) {\n *       return false;\n *     }\n *     if (tempB.includes(arrayMember)) {\n *       tempB = removeMatch(tempB, arrayMember);\n *       return true;\n *     }\n *     return false;\n *   }\n *   return a.reduce(reduceToDetermineIfArraysContainSameContents, true);\n * }\n *\n * export const creactOrderDoesNotMatterSelector = createSelectorFactory(\n *   (projectionFun) => defaultMemoize(\n *     projectionFun,\n *     orderDoesNotMatterComparer,\n *     orderDoesNotMatterComparer\n *   )\n * );\n * ```\n *\n * **Creating an Alternative Memoization Strategy**\n *\n * ```ts\n * function serialize(x: any): string {\n *   return JSON.stringify(x);\n * }\n *\n * export const createFullHistorySelector = createSelectorFactory(\n *  (projectionFunction) => {\n *    const cache = {};\n *\n *    function memoized() {\n *      const serializedArguments = serialize(...arguments);\n *       if (cache[serializedArguments] != null) {\n *         cache[serializedArguments] = projectionFunction.apply(null, arguments);\n *       }\n *       return cache[serializedArguments];\n *     }\n *     return {\n *       memoized,\n *       reset: () => {},\n *       setResult: () => {},\n *       clearResult: () => {},\n *     };\n *   }\n * );\n * ```\n *\n *\n */\n\n\nfunction createSelectorFactory(memoize) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    stateFn: defaultStateFn\n  };\n  return function () {\n    for (var _len4 = arguments.length, input = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {\n      input[_key5] = arguments[_key5];\n    }\n\n    var args = input;\n\n    if (Array.isArray(args[0])) {\n      var _args2 = args,\n          _args3 = _toArray(_args2),\n          head = _args3[0],\n          tail = _args3.slice(1);\n\n      args = [].concat(_toConsumableArray(head), _toConsumableArray(tail));\n    }\n\n    var selectors = args.slice(0, args.length - 1);\n    var projector = args[args.length - 1];\n    var memoizedSelectors = selectors.filter(function (selector) {\n      return selector.release && typeof selector.release === 'function';\n    });\n    var memoizedProjector = memoize(function () {\n      for (var _len5 = arguments.length, selectors = new Array(_len5), _key6 = 0; _key6 < _len5; _key6++) {\n        selectors[_key6] = arguments[_key6];\n      }\n\n      return projector.apply(null, selectors);\n    });\n    var memoizedState = defaultMemoize(function (state, props) {\n      return options.stateFn.apply(null, [state, selectors, props, memoizedProjector]);\n    });\n\n    function release() {\n      memoizedState.reset();\n      memoizedProjector.reset();\n      memoizedSelectors.forEach(function (selector) {\n        return selector.release();\n      });\n    }\n\n    return Object.assign(memoizedState.memoized, {\n      release: release,\n      projector: memoizedProjector.memoized,\n      setResult: memoizedState.setResult,\n      clearResult: memoizedState.clearResult\n    });\n  };\n}\n\nfunction createFeatureSelector(featureName) {\n  return createSelector(function (state) {\n    var featureState = state[featureName];\n\n    if (!isNgrxMockEnvironment() && isDevMode() && !(featureName in state)) {\n      console.warn(\"@ngrx/store: The feature name \\\"\".concat(featureName, \"\\\" does \") + 'not exist in the state, therefore createFeatureSelector ' + 'cannot access it.  Be sure it is imported in a loaded module ' + \"using StoreModule.forRoot('\".concat(featureName, \"', ...) or \") + \"StoreModule.forFeature('\".concat(featureName, \"', ...).  If the default \") + 'state is intended to be undefined, as is the case with router ' + 'state, this development-only warning message can be ignored.');\n    }\n\n    return featureState;\n  }, function (featureState) {\n    return featureState;\n  });\n}\n\nvar RUNTIME_CHECK_URL = 'https://ngrx.io/guide/store/configuration/runtime-checks';\n\nfunction isUndefined(target) {\n  return target === undefined;\n}\n\nfunction isNull(target) {\n  return target === null;\n}\n\nfunction isArray(target) {\n  return Array.isArray(target);\n}\n\nfunction isString(target) {\n  return typeof target === 'string';\n}\n\nfunction isBoolean(target) {\n  return typeof target === 'boolean';\n}\n\nfunction isNumber(target) {\n  return typeof target === 'number';\n}\n\nfunction isObjectLike(target) {\n  return typeof target === 'object' && target !== null;\n}\n\nfunction isObject(target) {\n  return isObjectLike(target) && !isArray(target);\n}\n\nfunction isPlainObject(target) {\n  if (!isObject(target)) {\n    return false;\n  }\n\n  var targetPrototype = Object.getPrototypeOf(target);\n  return targetPrototype === Object.prototype || targetPrototype === null;\n}\n\nfunction isFunction(target) {\n  return typeof target === 'function';\n}\n\nfunction isComponent(target) {\n  return isFunction(target) && target.hasOwnProperty('ɵcmp');\n}\n\nfunction hasOwnProperty(target, propertyName) {\n  return Object.prototype.hasOwnProperty.call(target, propertyName);\n}\n\nfunction immutabilityCheckMetaReducer(reducer, checks) {\n  return function (state, action) {\n    var act = checks.action(action) ? freeze(action) : action;\n    var nextState = reducer(state, act);\n    return checks.state() ? freeze(nextState) : nextState;\n  };\n}\n\nfunction freeze(target) {\n  Object.freeze(target);\n  var targetIsFunction = isFunction(target);\n  Object.getOwnPropertyNames(target).forEach(function (prop) {\n    // Ignore Ivy properties, ref: https://github.com/ngrx/platform/issues/2109#issuecomment-582689060\n    if (prop.startsWith('ɵ')) {\n      return;\n    }\n\n    if (hasOwnProperty(target, prop) && (targetIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true)) {\n      var propValue = target[prop];\n\n      if ((isObjectLike(propValue) || isFunction(propValue)) && !Object.isFrozen(propValue)) {\n        freeze(propValue);\n      }\n    }\n  });\n  return target;\n}\n\nfunction serializationCheckMetaReducer(reducer, checks) {\n  return function (state, action) {\n    if (checks.action(action)) {\n      var unserializableAction = getUnserializable(action);\n      throwIfUnserializable(unserializableAction, 'action');\n    }\n\n    var nextState = reducer(state, action);\n\n    if (checks.state()) {\n      var unserializableState = getUnserializable(nextState);\n      throwIfUnserializable(unserializableState, 'state');\n    }\n\n    return nextState;\n  };\n}\n\nfunction getUnserializable(target) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  // Guard against undefined and null, e.g. a reducer that returns undefined\n  if ((isUndefined(target) || isNull(target)) && path.length === 0) {\n    return {\n      path: ['root'],\n      value: target\n    };\n  }\n\n  var keys = Object.keys(target);\n  return keys.reduce(function (result, key) {\n    if (result) {\n      return result;\n    }\n\n    var value = target[key]; // Ignore Ivy components\n\n    if (isComponent(value)) {\n      return result;\n    }\n\n    if (isUndefined(value) || isNull(value) || isNumber(value) || isBoolean(value) || isString(value) || isArray(value)) {\n      return false;\n    }\n\n    if (isPlainObject(value)) {\n      return getUnserializable(value, [].concat(_toConsumableArray(path), [key]));\n    }\n\n    return {\n      path: [].concat(_toConsumableArray(path), [key]),\n      value: value\n    };\n  }, false);\n}\n\nfunction throwIfUnserializable(unserializable, context) {\n  if (unserializable === false) {\n    return;\n  }\n\n  var unserializablePath = unserializable.path.join('.');\n  var error = new Error(\"Detected unserializable \".concat(context, \" at \\\"\").concat(unserializablePath, \"\\\". \").concat(RUNTIME_CHECK_URL, \"#strict\").concat(context, \"serializability\"));\n  error.value = unserializable.value;\n  error.unserializablePath = unserializablePath;\n  throw error;\n}\n\nfunction inNgZoneAssertMetaReducer(reducer, checks) {\n  return function (state, action) {\n    if (checks.action(action) && !NgZone.isInAngularZone()) {\n      throw new Error(\"Action '\".concat(action.type, \"' running outside NgZone. \").concat(RUNTIME_CHECK_URL, \"#strictactionwithinngzone\"));\n    }\n\n    return reducer(state, action);\n  };\n}\n\nfunction createActiveRuntimeChecks(runtimeChecks) {\n  if (isDevMode()) {\n    return Object.assign({\n      strictStateSerializability: false,\n      strictActionSerializability: false,\n      strictStateImmutability: true,\n      strictActionImmutability: true,\n      strictActionWithinNgZone: false,\n      strictActionTypeUniqueness: false\n    }, runtimeChecks);\n  }\n\n  return {\n    strictStateSerializability: false,\n    strictActionSerializability: false,\n    strictStateImmutability: false,\n    strictActionImmutability: false,\n    strictActionWithinNgZone: false,\n    strictActionTypeUniqueness: false\n  };\n}\n\nfunction createSerializationCheckMetaReducer(_ref5) {\n  var strictActionSerializability = _ref5.strictActionSerializability,\n      strictStateSerializability = _ref5.strictStateSerializability;\n  return function (reducer) {\n    return strictActionSerializability || strictStateSerializability ? serializationCheckMetaReducer(reducer, {\n      action: function action(_action) {\n        return strictActionSerializability && !ignoreNgrxAction(_action);\n      },\n      state: function state() {\n        return strictStateSerializability;\n      }\n    }) : reducer;\n  };\n}\n\nfunction createImmutabilityCheckMetaReducer(_ref6) {\n  var strictActionImmutability = _ref6.strictActionImmutability,\n      strictStateImmutability = _ref6.strictStateImmutability;\n  return function (reducer) {\n    return strictActionImmutability || strictStateImmutability ? immutabilityCheckMetaReducer(reducer, {\n      action: function action(_action2) {\n        return strictActionImmutability && !ignoreNgrxAction(_action2);\n      },\n      state: function state() {\n        return strictStateImmutability;\n      }\n    }) : reducer;\n  };\n}\n\nfunction ignoreNgrxAction(action) {\n  return action.type.startsWith('@ngrx');\n}\n\nfunction createInNgZoneCheckMetaReducer(_ref7) {\n  var strictActionWithinNgZone = _ref7.strictActionWithinNgZone;\n  return function (reducer) {\n    return strictActionWithinNgZone ? inNgZoneAssertMetaReducer(reducer, {\n      action: function action(_action3) {\n        return strictActionWithinNgZone && !ignoreNgrxAction(_action3);\n      }\n    }) : reducer;\n  };\n}\n\nfunction provideRuntimeChecks(runtimeChecks) {\n  return [{\n    provide: _USER_RUNTIME_CHECKS,\n    useValue: runtimeChecks\n  }, {\n    provide: USER_RUNTIME_CHECKS,\n    useFactory: _runtimeChecksFactory,\n    deps: [_USER_RUNTIME_CHECKS]\n  }, {\n    provide: ACTIVE_RUNTIME_CHECKS,\n    deps: [USER_RUNTIME_CHECKS],\n    useFactory: createActiveRuntimeChecks\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createImmutabilityCheckMetaReducer\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createSerializationCheckMetaReducer\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createInNgZoneCheckMetaReducer\n  }];\n}\n\nfunction checkForActionTypeUniqueness() {\n  return [{\n    provide: _ACTION_TYPE_UNIQUENESS_CHECK,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: _actionTypeUniquenessCheck\n  }];\n}\n\nfunction _runtimeChecksFactory(runtimeChecks) {\n  return runtimeChecks;\n}\n\nfunction _actionTypeUniquenessCheck(config) {\n  if (!config.strictActionTypeUniqueness) {\n    return;\n  }\n\n  var duplicates = Object.entries(REGISTERED_ACTION_TYPES).filter(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        registrations = _ref9[1];\n\n    return registrations > 1;\n  }).map(function (_ref10) {\n    var _ref11 = _slicedToArray(_ref10, 1),\n        type = _ref11[0];\n\n    return type;\n  });\n\n  if (duplicates.length) {\n    throw new Error(\"Action types are registered more than once, \".concat(duplicates.map(function (type) {\n      return \"\\\"\".concat(type, \"\\\"\");\n    }).join(', '), \". \").concat(RUNTIME_CHECK_URL, \"#strictactiontypeuniqueness\"));\n  }\n}\n\nvar StoreRootModule = /*#__PURE__*/_createClass(function StoreRootModule(actions$, reducer$, scannedActions$, store, guard, actionCheck) {\n  _classCallCheck(this, StoreRootModule);\n});\n\nStoreRootModule.ɵfac = function StoreRootModule_Factory(t) {\n  return new (t || StoreRootModule)(ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerObservable), ɵngcc0.ɵɵinject(ScannedActionsSubject), ɵngcc0.ɵɵinject(Store), ɵngcc0.ɵɵinject(_ROOT_STORE_GUARD, 8), ɵngcc0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8));\n};\n\nStoreRootModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: StoreRootModule\n});\nStoreRootModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n/** @nocollapse */\n\nStoreRootModule.ctorParameters = function () {\n  return [{\n    type: ActionsSubject\n  }, {\n    type: ReducerObservable\n  }, {\n    type: ScannedActionsSubject\n  }, {\n    type: Store\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [_ROOT_STORE_GUARD]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreRootModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: ActionsSubject\n    }, {\n      type: ReducerObservable\n    }, {\n      type: ScannedActionsSubject\n    }, {\n      type: Store\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ROOT_STORE_GUARD]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n      }]\n    }];\n  }, null);\n})();\n\nvar StoreFeatureModule = /*#__PURE__*/function () {\n  function StoreFeatureModule(features, featureReducers, reducerManager, root, actionCheck) {\n    _classCallCheck(this, StoreFeatureModule);\n\n    this.features = features;\n    this.featureReducers = featureReducers;\n    this.reducerManager = reducerManager;\n    var feats = features.map(function (feature, index) {\n      var featureReducerCollection = featureReducers.shift();\n      var reducers = featureReducerCollection\n      /*TODO(#823)*/\n      [index];\n      return Object.assign(Object.assign({}, feature), {\n        reducers: reducers,\n        initialState: _initialStateFactory(feature.initialState)\n      });\n    });\n    reducerManager.addFeatures(feats);\n  }\n\n  _createClass(StoreFeatureModule, [{\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.reducerManager.removeFeatures(this.features);\n    }\n  }]);\n\n  return StoreFeatureModule;\n}();\n\nStoreFeatureModule.ɵfac = function StoreFeatureModule_Factory(t) {\n  return new (t || StoreFeatureModule)(ɵngcc0.ɵɵinject(_STORE_FEATURES), ɵngcc0.ɵɵinject(FEATURE_REDUCERS), ɵngcc0.ɵɵinject(ReducerManager), ɵngcc0.ɵɵinject(StoreRootModule), ɵngcc0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8));\n};\n\nStoreFeatureModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: StoreFeatureModule\n});\nStoreFeatureModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n/** @nocollapse */\n\nStoreFeatureModule.ctorParameters = function () {\n  return [{\n    type: Array,\n    decorators: [{\n      type: Inject,\n      args: [_STORE_FEATURES]\n    }]\n  }, {\n    type: Array,\n    decorators: [{\n      type: Inject,\n      args: [FEATURE_REDUCERS]\n    }]\n  }, {\n    type: ReducerManager\n  }, {\n    type: StoreRootModule\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreFeatureModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: Array,\n      decorators: [{\n        type: Inject,\n        args: [_STORE_FEATURES]\n      }]\n    }, {\n      type: Array,\n      decorators: [{\n        type: Inject,\n        args: [FEATURE_REDUCERS]\n      }]\n    }, {\n      type: ReducerManager\n    }, {\n      type: StoreRootModule\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n      }]\n    }];\n  }, null);\n})();\n\nvar StoreModule = /*#__PURE__*/function () {\n  function StoreModule() {\n    _classCallCheck(this, StoreModule);\n  }\n\n  _createClass(StoreModule, null, [{\n    key: \"forRoot\",\n    value: function forRoot(reducers) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return {\n        ngModule: StoreRootModule,\n        providers: [{\n          provide: _ROOT_STORE_GUARD,\n          useFactory: _provideForRootGuard,\n          deps: [[Store, new Optional(), new SkipSelf()]]\n        }, {\n          provide: _INITIAL_STATE,\n          useValue: config.initialState\n        }, {\n          provide: INITIAL_STATE,\n          useFactory: _initialStateFactory,\n          deps: [_INITIAL_STATE]\n        }, {\n          provide: _INITIAL_REDUCERS,\n          useValue: reducers\n        }, {\n          provide: _STORE_REDUCERS,\n          useExisting: reducers instanceof InjectionToken ? reducers : _INITIAL_REDUCERS\n        }, {\n          provide: INITIAL_REDUCERS,\n          deps: [Injector, _INITIAL_REDUCERS, [new Inject(_STORE_REDUCERS)]],\n          useFactory: _createStoreReducers\n        }, {\n          provide: USER_PROVIDED_META_REDUCERS,\n          useValue: config.metaReducers ? config.metaReducers : []\n        }, {\n          provide: _RESOLVED_META_REDUCERS,\n          deps: [META_REDUCERS, USER_PROVIDED_META_REDUCERS],\n          useFactory: _concatMetaReducers\n        }, {\n          provide: _REDUCER_FACTORY,\n          useValue: config.reducerFactory ? config.reducerFactory : combineReducers\n        }, {\n          provide: REDUCER_FACTORY,\n          deps: [_REDUCER_FACTORY, _RESOLVED_META_REDUCERS],\n          useFactory: createReducerFactory\n        }, ACTIONS_SUBJECT_PROVIDERS, REDUCER_MANAGER_PROVIDERS, SCANNED_ACTIONS_SUBJECT_PROVIDERS, STATE_PROVIDERS, STORE_PROVIDERS, provideRuntimeChecks(config.runtimeChecks), checkForActionTypeUniqueness()]\n      };\n    }\n  }, {\n    key: \"forFeature\",\n    value: function forFeature(featureNameOrSlice, reducersOrConfig) {\n      var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return {\n        ngModule: StoreFeatureModule,\n        providers: [{\n          provide: _FEATURE_CONFIGS,\n          multi: true,\n          useValue: featureNameOrSlice instanceof Object ? {} : config\n        }, {\n          provide: STORE_FEATURES,\n          multi: true,\n          useValue: {\n            key: featureNameOrSlice instanceof Object ? featureNameOrSlice.name : featureNameOrSlice,\n            reducerFactory: !(config instanceof InjectionToken) && config.reducerFactory ? config.reducerFactory : combineReducers,\n            metaReducers: !(config instanceof InjectionToken) && config.metaReducers ? config.metaReducers : [],\n            initialState: !(config instanceof InjectionToken) && config.initialState ? config.initialState : undefined\n          }\n        }, {\n          provide: _STORE_FEATURES,\n          deps: [Injector, _FEATURE_CONFIGS, STORE_FEATURES],\n          useFactory: _createFeatureStore\n        }, {\n          provide: _FEATURE_REDUCERS,\n          multi: true,\n          useValue: featureNameOrSlice instanceof Object ? featureNameOrSlice.reducer : reducersOrConfig\n        }, {\n          provide: _FEATURE_REDUCERS_TOKEN,\n          multi: true,\n          useExisting: reducersOrConfig instanceof InjectionToken ? reducersOrConfig : _FEATURE_REDUCERS\n        }, {\n          provide: FEATURE_REDUCERS,\n          multi: true,\n          deps: [Injector, _FEATURE_REDUCERS, [new Inject(_FEATURE_REDUCERS_TOKEN)]],\n          useFactory: _createFeatureReducers\n        }, checkForActionTypeUniqueness()]\n      };\n    }\n  }]);\n\n  return StoreModule;\n}();\n\nStoreModule.ɵfac = function StoreModule_Factory(t) {\n  return new (t || StoreModule)();\n};\n\nStoreModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: StoreModule\n});\nStoreModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreModule, [{\n    type: NgModule,\n    args: [{}]\n  }], null, null);\n})();\n\nfunction _createStoreReducers(injector, reducers) {\n  return reducers instanceof InjectionToken ? injector.get(reducers) : reducers;\n}\n\nfunction _createFeatureStore(injector, configs, featureStores) {\n  return featureStores.map(function (feat, index) {\n    if (configs[index] instanceof InjectionToken) {\n      var conf = injector.get(configs[index]);\n      return {\n        key: feat.key,\n        reducerFactory: conf.reducerFactory ? conf.reducerFactory : combineReducers,\n        metaReducers: conf.metaReducers ? conf.metaReducers : [],\n        initialState: conf.initialState\n      };\n    }\n\n    return feat;\n  });\n}\n\nfunction _createFeatureReducers(injector, reducerCollection) {\n  var reducers = reducerCollection.map(function (reducer) {\n    return reducer instanceof InjectionToken ? injector.get(reducer) : reducer;\n  });\n  return reducers;\n}\n\nfunction _initialStateFactory(initialState) {\n  if (typeof initialState === 'function') {\n    return initialState();\n  }\n\n  return initialState;\n}\n\nfunction _concatMetaReducers(metaReducers, userProvidedMetaReducers) {\n  return metaReducers.concat(userProvidedMetaReducers);\n}\n\nfunction _provideForRootGuard(store) {\n  if (store) {\n    throw new TypeError(\"StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.\");\n  }\n\n  return 'guarded';\n}\n/**\n * @description\n * Associates actions with a given state change function.\n * A state change function must be provided as the last parameter.\n *\n * @param args `ActionCreator`'s followed by a state change function.\n *\n * @returns an association of action types with a state change function.\n *\n * @usageNotes\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n */\n\n\nfunction on() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key7 = 0; _key7 < _len6; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  // This could be refactored when TS releases the version with this fix:\n  // https://github.com/microsoft/TypeScript/pull/41544\n  var reducer = args.pop();\n  var types = args.map(function (creator) {\n    return creator.type;\n  });\n  return {\n    reducer: reducer,\n    types: types\n  };\n}\n/**\n * @description\n * Creates a reducer function to handle state transitions.\n *\n * Reducer creators reduce the explicitness of reducer functions with switch statements.\n *\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @param ons Associations between actions and state changes.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.\n * - The returned `ActionReducer` should additionally be wrapped with another function, if you are using View Engine AOT.\n * In case you are using Ivy (or only JIT View Engine) the extra wrapper function is not required.\n *\n * **Declaring a reducer creator**\n *\n * ```ts\n * export const reducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n * ```\n *\n * **Declaring a reducer creator using a wrapper function (Only needed if using View Engine AOT)**\n *\n * ```ts\n * const featureReducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n *\n * export function reducer(state: State | undefined, action: Action) {\n *   return featureReducer(state, action);\n * }\n * ```\n */\n\n\nfunction createReducer(initialState) {\n  var map = new Map();\n\n  for (var _len7 = arguments.length, ons = new Array(_len7 > 1 ? _len7 - 1 : 0), _key8 = 1; _key8 < _len7; _key8++) {\n    ons[_key8 - 1] = arguments[_key8];\n  }\n\n  var _loop = function _loop() {\n    var on = _ons[_i3];\n\n    var _iterator = _createForOfIteratorHelper(on.types),\n        _step;\n\n    try {\n      var _loop2 = function _loop2() {\n        var type = _step.value;\n        var existingReducer = map.get(type);\n\n        if (existingReducer) {\n          var newReducer = function newReducer(state, action) {\n            return on.reducer(existingReducer(state, action), action);\n          };\n\n          map.set(type, newReducer);\n        } else {\n          map.set(type, on.reducer);\n        }\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop2();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  for (var _i3 = 0, _ons = ons; _i3 < _ons.length; _i3++) {\n    _loop();\n  }\n\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    var reducer = map.get(action.type);\n    return reducer ? reducer(state, action) : state;\n  };\n}\n/**\n * DO NOT EDIT\n *\n * This file is automatically generated at build\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ACTIVE_RUNTIME_CHECKS, ActionsSubject, FEATURE_REDUCERS, INIT, INITIAL_REDUCERS, INITIAL_STATE, META_REDUCERS, REDUCER_FACTORY, ReducerManager, ReducerManagerDispatcher, ReducerObservable, STORE_FEATURES, ScannedActionsSubject, State, StateObservable, Store, StoreFeatureModule, StoreModule, StoreRootModule, UPDATE, USER_PROVIDED_META_REDUCERS, USER_RUNTIME_CHECKS, combineReducers, compose, createAction, createFeatureSelector, createReducer, createReducerFactory, createSelector, createSelectorFactory, defaultMemoize, defaultStateFn, isNgrxMockEnvironment, on, props, reduceState, resultMemoize, _select as select, setNgrxMockEnvironment, union, STORE_PROVIDERS as ɵb, createSerializationCheckMetaReducer as ɵba, createImmutabilityCheckMetaReducer as ɵbb, createInNgZoneCheckMetaReducer as ɵbc, provideRuntimeChecks as ɵbd, checkForActionTypeUniqueness as ɵbe, _runtimeChecksFactory as ɵbf, _actionTypeUniquenessCheck as ɵbg, ACTIONS_SUBJECT_PROVIDERS as ɵc, REDUCER_MANAGER_PROVIDERS as ɵd, SCANNED_ACTIONS_SUBJECT_PROVIDERS as ɵe, isEqualCheck as ɵf, STATE_PROVIDERS as ɵg, _ROOT_STORE_GUARD as ɵh, _INITIAL_STATE as ɵi, _REDUCER_FACTORY as ɵj, _INITIAL_REDUCERS as ɵk, _STORE_REDUCERS as ɵl, _FEATURE_REDUCERS as ɵm, _FEATURE_CONFIGS as ɵn, _STORE_FEATURES as ɵo, _FEATURE_REDUCERS_TOKEN as ɵp, _RESOLVED_META_REDUCERS as ɵq, _USER_RUNTIME_CHECKS as ɵr, _ACTION_TYPE_UNIQUENESS_CHECK as ɵs, _createStoreReducers as ɵt, _createFeatureStore as ɵu, _createFeatureReducers as ɵv, _initialStateFactory as ɵw, _concatMetaReducers as ɵx, _provideForRootGuard as ɵy, createActiveRuntimeChecks as ɵz }; //# sourceMappingURL=ngrx-store.js.map","map":{"version":3,"sources":["/Users/volodymyrmaliarov/Projects/ngRxIntro/ngrx-store-intro/node_modules/@ngrx/store/__ivy_ngcc__/fesm2015/ngrx-store.js"],"names":["Injectable","InjectionToken","Inject","isDevMode","NgZone","NgModule","Optional","SkipSelf","Injector","BehaviorSubject","Observable","Subject","queueScheduler","observeOn","withLatestFrom","scan","pluck","map","distinctUntilChanged","ɵngcc0","REGISTERED_ACTION_TYPES","resetRegisteredActionTypes","Object","keys","key","createAction","type","config","defineType","assign","as","_as","props","Error","_p","undefined","union","creators","creator","defineProperty","value","writable","INIT","ActionsSubject","action","TypeError","ɵfac","ActionsSubject_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ctorParameters","ngDevMode","ɵsetClassMetadata","ACTIONS_SUBJECT_PROVIDERS","_ROOT_STORE_GUARD","_INITIAL_STATE","INITIAL_STATE","REDUCER_FACTORY","_REDUCER_FACTORY","INITIAL_REDUCERS","_INITIAL_REDUCERS","STORE_FEATURES","_STORE_REDUCERS","_FEATURE_REDUCERS","_FEATURE_CONFIGS","_STORE_FEATURES","_FEATURE_REDUCERS_TOKEN","FEATURE_REDUCERS","USER_PROVIDED_META_REDUCERS","META_REDUCERS","_RESOLVED_META_REDUCERS","USER_RUNTIME_CHECKS","_USER_RUNTIME_CHECKS","ACTIVE_RUNTIME_CHECKS","_ACTION_TYPE_UNIQUENESS_CHECK","combineReducers","reducers","initialState","reducerKeys","finalReducers","i","length","finalReducerKeys","combination","state","hasChanged","nextState","reducer","previousStateForKey","nextStateForKey","omit","object","keyToRemove","filter","reduce","result","compose","functions","arg","last","rest","slice","reduceRight","composed","fn","createReducerFactory","reducerFactory","metaReducers","Array","isArray","apply","createFeatureReducerFactory","r","ReducerObservable","ReducerManagerDispatcher","UPDATE","ReducerManager","dispatcher","feature","addFeatures","features","reducerDict","addReducers","removeFeatures","removeReducers","p","updateReducers","featureKey","featureKeys","forEach","next","complete","ReducerManager_Factory","ɵɵinject","decorators","args","REDUCER_MANAGER_PROVIDERS","provide","useExisting","ScannedActionsSubject","ScannedActionsSubject_Factory","ɵScannedActionsSubject_BaseFactory","ɵɵgetInheritedFactory","SCANNED_ACTIONS_SUBJECT_PROVIDERS","StateObservable","State","actions$","reducer$","scannedActions","actionsOnQueue$","pipe","withLatestReducer$","seed","stateAndAction$","reduceState","stateSubscription","subscribe","unsubscribe","State_Factory","stateActionPair","STATE_PROVIDERS","Store","state$","actionsObserver","reducerManager","source","pathOrMapFn","paths","select","call","operator","store","err","error","addReducer","removeReducer","Store_Factory","STORE_PROVIDERS","propsOrPath","selectOperator","source$","mapped$","pathSlices","Boolean","_ngrxMockEnvironment","setNgrxMockEnvironment","isNgrxMockEnvironment","isEqualCheck","a","b","isArgumentsChanged","lastArguments","comparator","resultMemoize","projectionFn","isResultEqual","defaultMemoize","isArgumentsEqual","lastResult","overrideResult","reset","setResult","clearResult","memoized","arguments","newResult","createSelector","createSelectorFactory","defaultStateFn","selectors","memoizedProjector","memoize","options","stateFn","input","head","tail","projector","memoizedSelectors","selector","release","memoizedState","createFeatureSelector","featureName","featureState","console","warn","RUNTIME_CHECK_URL","isUndefined","target","isNull","isString","isBoolean","isNumber","isObjectLike","isObject","isPlainObject","targetPrototype","getPrototypeOf","prototype","isFunction","isComponent","hasOwnProperty","propertyName","immutabilityCheckMetaReducer","checks","act","freeze","targetIsFunction","getOwnPropertyNames","prop","startsWith","propValue","isFrozen","serializationCheckMetaReducer","unserializableAction","getUnserializable","throwIfUnserializable","unserializableState","path","unserializable","context","unserializablePath","join","inNgZoneAssertMetaReducer","isInAngularZone","createActiveRuntimeChecks","runtimeChecks","strictStateSerializability","strictActionSerializability","strictStateImmutability","strictActionImmutability","strictActionWithinNgZone","strictActionTypeUniqueness","createSerializationCheckMetaReducer","ignoreNgrxAction","createImmutabilityCheckMetaReducer","createInNgZoneCheckMetaReducer","provideRuntimeChecks","useValue","useFactory","_runtimeChecksFactory","deps","multi","checkForActionTypeUniqueness","_actionTypeUniquenessCheck","duplicates","entries","registrations","StoreRootModule","scannedActions$","guard","actionCheck","StoreRootModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","StoreFeatureModule","featureReducers","root","feats","index","featureReducerCollection","shift","_initialStateFactory","StoreFeatureModule_Factory","StoreModule","ngModule","providers","_provideForRootGuard","_createStoreReducers","_concatMetaReducers","featureNameOrSlice","reducersOrConfig","name","_createFeatureStore","_createFeatureReducers","StoreModule_Factory","injector","get","configs","featureStores","feat","conf","reducerCollection","userProvidedMetaReducers","concat","on","pop","types","createReducer","Map","ons","existingReducer","newReducer","set","ɵb","ɵba","ɵbb","ɵbc","ɵbd","ɵbe","ɵbf","ɵbg","ɵc","ɵd","ɵe","ɵf","ɵg","ɵh","ɵi","ɵj","ɵk","ɵl","ɵm","ɵn","ɵo","ɵp","ɵq","ɵr","ɵs","ɵt","ɵu","ɵv","ɵw","ɵx","ɵy","ɵz"],"mappings":"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","sourcesContent":["import { Injectable, InjectionToken, Inject, isDevMode, NgZone, NgModule, Optional, SkipSelf, Injector } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject, queueScheduler } from 'rxjs';\nimport { observeOn, withLatestFrom, scan, pluck, map, distinctUntilChanged } from 'rxjs/operators';\n\nimport * as ɵngcc0 from '@angular/core';\nconst REGISTERED_ACTION_TYPES = {};\nfunction resetRegisteredActionTypes() {\n    for (const key of Object.keys(REGISTERED_ACTION_TYPES)) {\n        delete REGISTERED_ACTION_TYPES[key];\n    }\n}\n\n/**\n * @description\n * Creates a configured `Creator` function that, when called, returns an object in the shape of the `Action` interface.\n *\n * Action creators reduce the explicitness of class-based action creators.\n *\n * @param type Describes the action that will be dispatched\n * @param config Additional metadata needed for the handling of the action.  See {@link createAction#usage-notes Usage Notes}.\n *\n * @usageNotes\n *\n * **Declaring an action creator**\n *\n * Without additional metadata:\n * ```ts\n * export const increment = createAction('[Counter] Increment');\n * ```\n * With additional metadata:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   props<{ user: User }>()\n * );\n * ```\n * With a function:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   (response: Response) => response.user\n * );\n * ```\n *\n * **Dispatching an action**\n *\n * Without additional metadata:\n * ```ts\n * store.dispatch(increment());\n * ```\n * With additional metadata:\n * ```ts\n * store.dispatch(loginSuccess({ user: newUser }));\n * ```\n *\n * **Referencing an action in a reducer**\n *\n * Using a switch statement:\n * ```ts\n * switch (action.type) {\n *   // ...\n *   case AuthApiActions.loginSuccess.type: {\n *     return {\n *       ...state,\n *       user: action.user\n *     };\n *   }\n * }\n * ```\n * Using a reducer creator:\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n *\n *  **Referencing an action in an effect**\n * ```ts\n * effectName$ = createEffect(\n *   () => this.actions$.pipe(\n *     ofType(AuthApiActions.loginSuccess),\n *     // ...\n *   )\n * );\n * ```\n */\nfunction createAction(type, config) {\n    REGISTERED_ACTION_TYPES[type] = (REGISTERED_ACTION_TYPES[type] || 0) + 1;\n    if (typeof config === 'function') {\n        return defineType(type, (...args) => (Object.assign(Object.assign({}, config(...args)), { type })));\n    }\n    const as = config ? config._as : 'empty';\n    switch (as) {\n        case 'empty':\n            return defineType(type, () => ({ type }));\n        case 'props':\n            return defineType(type, (props) => (Object.assign(Object.assign({}, props), { type })));\n        default:\n            throw new Error('Unexpected config.');\n    }\n}\nfunction props() {\n    return { _as: 'props', _p: undefined };\n}\nfunction union(creators) {\n    return undefined;\n}\nfunction defineType(type, creator) {\n    return Object.defineProperty(creator, 'type', {\n        value: type,\n        writable: false,\n    });\n}\n\nconst INIT = '@ngrx/store/init';\nclass ActionsSubject extends BehaviorSubject {\n    constructor() {\n        super({ type: INIT });\n    }\n    next(action) {\n        if (typeof action === 'function') {\n            throw new TypeError(`\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().`);\n        }\n        else if (typeof action === 'undefined') {\n            throw new TypeError(`Actions must be objects`);\n        }\n        else if (typeof action.type === 'undefined') {\n            throw new TypeError(`Actions must have a type property`);\n        }\n        super.next(action);\n    }\n    complete() {\n        /* noop */\n    }\n    ngOnDestroy() {\n        super.complete();\n    }\n}\nActionsSubject.ɵfac = function ActionsSubject_Factory(t) { return new (t || ActionsSubject)(); };\nActionsSubject.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ActionsSubject, factory: ActionsSubject.ɵfac });\n/** @nocollapse */\nActionsSubject.ctorParameters = () => [];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ActionsSubject, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\nconst ACTIONS_SUBJECT_PROVIDERS = [ActionsSubject];\n\nconst _ROOT_STORE_GUARD = new InjectionToken('@ngrx/store Internal Root Guard');\nconst _INITIAL_STATE = new InjectionToken('@ngrx/store Internal Initial State');\nconst INITIAL_STATE = new InjectionToken('@ngrx/store Initial State');\nconst REDUCER_FACTORY = new InjectionToken('@ngrx/store Reducer Factory');\nconst _REDUCER_FACTORY = new InjectionToken('@ngrx/store Internal Reducer Factory Provider');\nconst INITIAL_REDUCERS = new InjectionToken('@ngrx/store Initial Reducers');\nconst _INITIAL_REDUCERS = new InjectionToken('@ngrx/store Internal Initial Reducers');\nconst STORE_FEATURES = new InjectionToken('@ngrx/store Store Features');\nconst _STORE_REDUCERS = new InjectionToken('@ngrx/store Internal Store Reducers');\nconst _FEATURE_REDUCERS = new InjectionToken('@ngrx/store Internal Feature Reducers');\nconst _FEATURE_CONFIGS = new InjectionToken('@ngrx/store Internal Feature Configs');\nconst _STORE_FEATURES = new InjectionToken('@ngrx/store Internal Store Features');\nconst _FEATURE_REDUCERS_TOKEN = new InjectionToken('@ngrx/store Internal Feature Reducers Token');\nconst FEATURE_REDUCERS = new InjectionToken('@ngrx/store Feature Reducers');\n/**\n * User-defined meta reducers from StoreModule.forRoot()\n */\nconst USER_PROVIDED_META_REDUCERS = new InjectionToken('@ngrx/store User Provided Meta Reducers');\n/**\n * Meta reducers defined either internally by @ngrx/store or by library authors\n */\nconst META_REDUCERS = new InjectionToken('@ngrx/store Meta Reducers');\n/**\n * Concats the user provided meta reducers and the meta reducers provided on the multi\n * injection token\n */\nconst _RESOLVED_META_REDUCERS = new InjectionToken('@ngrx/store Internal Resolved Meta Reducers');\n/**\n * Runtime checks defined by the user via an InjectionToken\n * Defaults to `_USER_RUNTIME_CHECKS`\n */\nconst USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store User Runtime Checks Config');\n/**\n * Runtime checks defined by the user via forRoot()\n */\nconst _USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal User Runtime Checks Config');\n/**\n * Runtime checks currently in use\n */\nconst ACTIVE_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal Runtime Checks');\nconst _ACTION_TYPE_UNIQUENESS_CHECK = new InjectionToken('@ngrx/store Check if Action types are unique');\n\n/**\n * @description\n * Combines reducers for individual features into a single reducer.\n *\n * You can use this function to delegate handling of state transitions to multiple reducers, each acting on their\n * own sub-state within the root state.\n *\n * @param reducers An object mapping keys of the root state to their corresponding feature reducer.\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * **Example combining two feature reducers into one \"root\" reducer**\n *\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * });\n * ```\n *\n * You can also override the initial states of the sub-features:\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * }, {\n *   featureA: { counterA: 13 },\n *   featureB: { counterB: 37 }\n * });\n * ```\n */\nfunction combineReducers(reducers, initialState = {}) {\n    const reducerKeys = Object.keys(reducers);\n    const finalReducers = {};\n    for (let i = 0; i < reducerKeys.length; i++) {\n        const key = reducerKeys[i];\n        if (typeof reducers[key] === 'function') {\n            finalReducers[key] = reducers[key];\n        }\n    }\n    const finalReducerKeys = Object.keys(finalReducers);\n    return function combination(state, action) {\n        state = state === undefined ? initialState : state;\n        let hasChanged = false;\n        const nextState = {};\n        for (let i = 0; i < finalReducerKeys.length; i++) {\n            const key = finalReducerKeys[i];\n            const reducer = finalReducers[key];\n            const previousStateForKey = state[key];\n            const nextStateForKey = reducer(previousStateForKey, action);\n            nextState[key] = nextStateForKey;\n            hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n        }\n        return hasChanged ? nextState : state;\n    };\n}\nfunction omit(object, keyToRemove) {\n    return Object.keys(object)\n        .filter((key) => key !== keyToRemove)\n        .reduce((result, key) => Object.assign(result, { [key]: object[key] }), {});\n}\nfunction compose(...functions) {\n    return function (arg) {\n        if (functions.length === 0) {\n            return arg;\n        }\n        const last = functions[functions.length - 1];\n        const rest = functions.slice(0, -1);\n        return rest.reduceRight((composed, fn) => fn(composed), last(arg));\n    };\n}\nfunction createReducerFactory(reducerFactory, metaReducers) {\n    if (Array.isArray(metaReducers) && metaReducers.length > 0) {\n        reducerFactory = compose.apply(null, [\n            ...metaReducers,\n            reducerFactory,\n        ]);\n    }\n    return (reducers, initialState) => {\n        const reducer = reducerFactory(reducers);\n        return (state, action) => {\n            state = state === undefined ? initialState : state;\n            return reducer(state, action);\n        };\n    };\n}\nfunction createFeatureReducerFactory(metaReducers) {\n    const reducerFactory = Array.isArray(metaReducers) && metaReducers.length > 0\n        ? compose(...metaReducers)\n        : (r) => r;\n    return (reducer, initialState) => {\n        reducer = reducerFactory(reducer);\n        return (state, action) => {\n            state = state === undefined ? initialState : state;\n            return reducer(state, action);\n        };\n    };\n}\n\nclass ReducerObservable extends Observable {\n}\nclass ReducerManagerDispatcher extends ActionsSubject {\n}\nconst UPDATE = '@ngrx/store/update-reducers';\nclass ReducerManager extends BehaviorSubject {\n    constructor(dispatcher, initialState, reducers, reducerFactory) {\n        super(reducerFactory(reducers, initialState));\n        this.dispatcher = dispatcher;\n        this.initialState = initialState;\n        this.reducers = reducers;\n        this.reducerFactory = reducerFactory;\n    }\n    addFeature(feature) {\n        this.addFeatures([feature]);\n    }\n    addFeatures(features) {\n        const reducers = features.reduce((reducerDict, { reducers, reducerFactory, metaReducers, initialState, key }) => {\n            const reducer = typeof reducers === 'function'\n                ? createFeatureReducerFactory(metaReducers)(reducers, initialState)\n                : createReducerFactory(reducerFactory, metaReducers)(reducers, initialState);\n            reducerDict[key] = reducer;\n            return reducerDict;\n        }, {});\n        this.addReducers(reducers);\n    }\n    removeFeature(feature) {\n        this.removeFeatures([feature]);\n    }\n    removeFeatures(features) {\n        this.removeReducers(features.map((p) => p.key));\n    }\n    addReducer(key, reducer) {\n        this.addReducers({ [key]: reducer });\n    }\n    addReducers(reducers) {\n        this.reducers = Object.assign(Object.assign({}, this.reducers), reducers);\n        this.updateReducers(Object.keys(reducers));\n    }\n    removeReducer(featureKey) {\n        this.removeReducers([featureKey]);\n    }\n    removeReducers(featureKeys) {\n        featureKeys.forEach((key) => {\n            this.reducers = omit(this.reducers, key) /*TODO(#823)*/;\n        });\n        this.updateReducers(featureKeys);\n    }\n    updateReducers(featureKeys) {\n        this.next(this.reducerFactory(this.reducers, this.initialState));\n        this.dispatcher.next({\n            type: UPDATE,\n            features: featureKeys,\n        });\n    }\n    ngOnDestroy() {\n        this.complete();\n    }\n}\nReducerManager.ɵfac = function ReducerManager_Factory(t) { return new (t || ReducerManager)(ɵngcc0.ɵɵinject(ReducerManagerDispatcher), ɵngcc0.ɵɵinject(INITIAL_STATE), ɵngcc0.ɵɵinject(INITIAL_REDUCERS), ɵngcc0.ɵɵinject(REDUCER_FACTORY)); };\nReducerManager.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ReducerManager, factory: ReducerManager.ɵfac });\n/** @nocollapse */\nReducerManager.ctorParameters = () => [\n    { type: ReducerManagerDispatcher },\n    { type: undefined, decorators: [{ type: Inject, args: [INITIAL_STATE,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [INITIAL_REDUCERS,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [REDUCER_FACTORY,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ReducerManager, [{\n        type: Injectable\n    }], function () { return [{ type: ReducerManagerDispatcher }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [INITIAL_STATE]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [INITIAL_REDUCERS]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [REDUCER_FACTORY]\n            }] }]; }, null); })();\nconst REDUCER_MANAGER_PROVIDERS = [\n    ReducerManager,\n    { provide: ReducerObservable, useExisting: ReducerManager },\n    { provide: ReducerManagerDispatcher, useExisting: ActionsSubject },\n];\n\nclass ScannedActionsSubject extends Subject {\n    ngOnDestroy() {\n        this.complete();\n    }\n}\nScannedActionsSubject.ɵfac = function ScannedActionsSubject_Factory(t) { return ɵScannedActionsSubject_BaseFactory(t || ScannedActionsSubject); };\nScannedActionsSubject.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ScannedActionsSubject, factory: ScannedActionsSubject.ɵfac });\nconst ɵScannedActionsSubject_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(ScannedActionsSubject);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ScannedActionsSubject, [{\n        type: Injectable\n    }], null, null); })();\nconst SCANNED_ACTIONS_SUBJECT_PROVIDERS = [\n    ScannedActionsSubject,\n];\n\nclass StateObservable extends Observable {\n}\nclass State extends BehaviorSubject {\n    constructor(actions$, reducer$, scannedActions, initialState) {\n        super(initialState);\n        const actionsOnQueue$ = actions$.pipe(observeOn(queueScheduler));\n        const withLatestReducer$ = actionsOnQueue$.pipe(withLatestFrom(reducer$));\n        const seed = { state: initialState };\n        const stateAndAction$ = withLatestReducer$.pipe(scan(reduceState, seed));\n        this.stateSubscription = stateAndAction$.subscribe(({ state, action }) => {\n            this.next(state);\n            scannedActions.next(action);\n        });\n    }\n    ngOnDestroy() {\n        this.stateSubscription.unsubscribe();\n        this.complete();\n    }\n}\nState.ɵfac = function State_Factory(t) { return new (t || State)(ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerObservable), ɵngcc0.ɵɵinject(ScannedActionsSubject), ɵngcc0.ɵɵinject(INITIAL_STATE)); };\nState.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: State, factory: State.ɵfac });\nState.INIT = INIT;\n/** @nocollapse */\nState.ctorParameters = () => [\n    { type: ActionsSubject },\n    { type: ReducerObservable },\n    { type: ScannedActionsSubject },\n    { type: undefined, decorators: [{ type: Inject, args: [INITIAL_STATE,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(State, [{\n        type: Injectable\n    }], function () { return [{ type: ActionsSubject }, { type: ReducerObservable }, { type: ScannedActionsSubject }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [INITIAL_STATE]\n            }] }]; }, null); })();\nfunction reduceState(stateActionPair = { state: undefined }, [action, reducer]) {\n    const { state } = stateActionPair;\n    return { state: reducer(state, action), action };\n}\nconst STATE_PROVIDERS = [\n    State,\n    { provide: StateObservable, useExisting: State },\n];\n\nclass Store extends Observable {\n    constructor(state$, actionsObserver, reducerManager) {\n        super();\n        this.actionsObserver = actionsObserver;\n        this.reducerManager = reducerManager;\n        this.source = state$;\n    }\n    select(pathOrMapFn, ...paths) {\n        return select.call(null, pathOrMapFn, ...paths)(this);\n    }\n    lift(operator) {\n        const store = new Store(this, this.actionsObserver, this.reducerManager);\n        store.operator = operator;\n        return store;\n    }\n    dispatch(action) {\n        this.actionsObserver.next(action);\n    }\n    next(action) {\n        this.actionsObserver.next(action);\n    }\n    error(err) {\n        this.actionsObserver.error(err);\n    }\n    complete() {\n        this.actionsObserver.complete();\n    }\n    addReducer(key, reducer) {\n        this.reducerManager.addReducer(key, reducer);\n    }\n    removeReducer(key) {\n        this.reducerManager.removeReducer(key);\n    }\n}\nStore.ɵfac = function Store_Factory(t) { return new (t || Store)(ɵngcc0.ɵɵinject(StateObservable), ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerManager)); };\nStore.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Store, factory: Store.ɵfac });\n/** @nocollapse */\nStore.ctorParameters = () => [\n    { type: StateObservable },\n    { type: ActionsSubject },\n    { type: ReducerManager }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Store, [{\n        type: Injectable\n    }], function () { return [{ type: StateObservable }, { type: ActionsSubject }, { type: ReducerManager }]; }, null); })();\nconst STORE_PROVIDERS = [Store];\nfunction select(pathOrMapFn, propsOrPath, ...paths) {\n    return function selectOperator(source$) {\n        let mapped$;\n        if (typeof pathOrMapFn === 'string') {\n            const pathSlices = [propsOrPath, ...paths].filter(Boolean);\n            mapped$ = source$.pipe(pluck(pathOrMapFn, ...pathSlices));\n        }\n        else if (typeof pathOrMapFn === 'function') {\n            mapped$ = source$.pipe(map((source) => pathOrMapFn(source, propsOrPath)));\n        }\n        else {\n            throw new TypeError(`Unexpected type '${typeof pathOrMapFn}' in select operator,` +\n                ` expected 'string' or 'function'`);\n        }\n        return mapped$.pipe(distinctUntilChanged());\n    };\n}\n\nlet _ngrxMockEnvironment = false;\nfunction setNgrxMockEnvironment(value) {\n    _ngrxMockEnvironment = value;\n}\nfunction isNgrxMockEnvironment() {\n    return _ngrxMockEnvironment;\n}\n\nfunction isEqualCheck(a, b) {\n    return a === b;\n}\nfunction isArgumentsChanged(args, lastArguments, comparator) {\n    for (let i = 0; i < args.length; i++) {\n        if (!comparator(args[i], lastArguments[i])) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resultMemoize(projectionFn, isResultEqual) {\n    return defaultMemoize(projectionFn, isEqualCheck, isResultEqual);\n}\nfunction defaultMemoize(projectionFn, isArgumentsEqual = isEqualCheck, isResultEqual = isEqualCheck) {\n    let lastArguments = null;\n    // tslint:disable-next-line:no-any anything could be the result.\n    let lastResult = null;\n    let overrideResult;\n    function reset() {\n        lastArguments = null;\n        lastResult = null;\n    }\n    function setResult(result = undefined) {\n        overrideResult = { result };\n    }\n    function clearResult() {\n        overrideResult = undefined;\n    }\n    // tslint:disable-next-line:no-any anything could be the result.\n    function memoized() {\n        if (overrideResult !== undefined) {\n            return overrideResult.result;\n        }\n        if (!lastArguments) {\n            lastResult = projectionFn.apply(null, arguments);\n            lastArguments = arguments;\n            return lastResult;\n        }\n        if (!isArgumentsChanged(arguments, lastArguments, isArgumentsEqual)) {\n            return lastResult;\n        }\n        const newResult = projectionFn.apply(null, arguments);\n        lastArguments = arguments;\n        if (isResultEqual(lastResult, newResult)) {\n            return lastResult;\n        }\n        lastResult = newResult;\n        return newResult;\n    }\n    return { memoized, reset, setResult, clearResult };\n}\nfunction createSelector(...input) {\n    return createSelectorFactory(defaultMemoize)(...input);\n}\nfunction defaultStateFn(state, selectors, props, memoizedProjector) {\n    if (props === undefined) {\n        const args = selectors.map((fn) => fn(state));\n        return memoizedProjector.memoized.apply(null, args);\n    }\n    const args = selectors.map((fn) => fn(state, props));\n    return memoizedProjector.memoized.apply(null, [...args, props]);\n}\n/**\n *\n * @param memoize The function used to memoize selectors\n * @param options Config Object that may include a `stateFn` function defining how to return the selector's value, given the entire `Store`'s state, parent `Selector`s, `Props`, and a `MemoizedProjection`\n *\n * @usageNotes\n *\n * **Creating a Selector Factory Where Array Order Does Not Matter**\n *\n * ```ts\n * function removeMatch(arr: string[], target: string): string[] {\n *   const matchIndex = arr.indexOf(target);\n *   return [...arr.slice(0, matchIndex), ...arr.slice(matchIndex + 1)];\n * }\n *\n * function orderDoesNotMatterComparer(a: any, b: any): boolean {\n *   if (!Array.isArray(a) || !Array.isArray(b)) {\n *     return a === b;\n *   }\n *   if (a.length !== b.length) {\n *     return false;\n *   }\n *   let tempB = [...b];\n *   function reduceToDetermineIfArraysContainSameContents(\n *     previousCallResult: boolean,\n *     arrayMember: any\n *   ): boolean {\n *     if (previousCallResult === false) {\n *       return false;\n *     }\n *     if (tempB.includes(arrayMember)) {\n *       tempB = removeMatch(tempB, arrayMember);\n *       return true;\n *     }\n *     return false;\n *   }\n *   return a.reduce(reduceToDetermineIfArraysContainSameContents, true);\n * }\n *\n * export const creactOrderDoesNotMatterSelector = createSelectorFactory(\n *   (projectionFun) => defaultMemoize(\n *     projectionFun,\n *     orderDoesNotMatterComparer,\n *     orderDoesNotMatterComparer\n *   )\n * );\n * ```\n *\n * **Creating an Alternative Memoization Strategy**\n *\n * ```ts\n * function serialize(x: any): string {\n *   return JSON.stringify(x);\n * }\n *\n * export const createFullHistorySelector = createSelectorFactory(\n *  (projectionFunction) => {\n *    const cache = {};\n *\n *    function memoized() {\n *      const serializedArguments = serialize(...arguments);\n *       if (cache[serializedArguments] != null) {\n *         cache[serializedArguments] = projectionFunction.apply(null, arguments);\n *       }\n *       return cache[serializedArguments];\n *     }\n *     return {\n *       memoized,\n *       reset: () => {},\n *       setResult: () => {},\n *       clearResult: () => {},\n *     };\n *   }\n * );\n * ```\n *\n *\n */\nfunction createSelectorFactory(memoize, options = {\n    stateFn: defaultStateFn,\n}) {\n    return function (...input) {\n        let args = input;\n        if (Array.isArray(args[0])) {\n            const [head, ...tail] = args;\n            args = [...head, ...tail];\n        }\n        const selectors = args.slice(0, args.length - 1);\n        const projector = args[args.length - 1];\n        const memoizedSelectors = selectors.filter((selector) => selector.release && typeof selector.release === 'function');\n        const memoizedProjector = memoize(function (...selectors) {\n            return projector.apply(null, selectors);\n        });\n        const memoizedState = defaultMemoize(function (state, props) {\n            return options.stateFn.apply(null, [\n                state,\n                selectors,\n                props,\n                memoizedProjector,\n            ]);\n        });\n        function release() {\n            memoizedState.reset();\n            memoizedProjector.reset();\n            memoizedSelectors.forEach((selector) => selector.release());\n        }\n        return Object.assign(memoizedState.memoized, {\n            release,\n            projector: memoizedProjector.memoized,\n            setResult: memoizedState.setResult,\n            clearResult: memoizedState.clearResult,\n        });\n    };\n}\nfunction createFeatureSelector(featureName) {\n    return createSelector((state) => {\n        const featureState = state[featureName];\n        if (!isNgrxMockEnvironment() && isDevMode() && !(featureName in state)) {\n            console.warn(`@ngrx/store: The feature name \\\"${featureName}\\\" does ` +\n                'not exist in the state, therefore createFeatureSelector ' +\n                'cannot access it.  Be sure it is imported in a loaded module ' +\n                `using StoreModule.forRoot('${featureName}', ...) or ` +\n                `StoreModule.forFeature('${featureName}', ...).  If the default ` +\n                'state is intended to be undefined, as is the case with router ' +\n                'state, this development-only warning message can be ignored.');\n        }\n        return featureState;\n    }, (featureState) => featureState);\n}\n\nconst RUNTIME_CHECK_URL = 'https://ngrx.io/guide/store/configuration/runtime-checks';\nfunction isUndefined(target) {\n    return target === undefined;\n}\nfunction isNull(target) {\n    return target === null;\n}\nfunction isArray(target) {\n    return Array.isArray(target);\n}\nfunction isString(target) {\n    return typeof target === 'string';\n}\nfunction isBoolean(target) {\n    return typeof target === 'boolean';\n}\nfunction isNumber(target) {\n    return typeof target === 'number';\n}\nfunction isObjectLike(target) {\n    return typeof target === 'object' && target !== null;\n}\nfunction isObject(target) {\n    return isObjectLike(target) && !isArray(target);\n}\nfunction isPlainObject(target) {\n    if (!isObject(target)) {\n        return false;\n    }\n    const targetPrototype = Object.getPrototypeOf(target);\n    return targetPrototype === Object.prototype || targetPrototype === null;\n}\nfunction isFunction(target) {\n    return typeof target === 'function';\n}\nfunction isComponent(target) {\n    return isFunction(target) && target.hasOwnProperty('ɵcmp');\n}\nfunction hasOwnProperty(target, propertyName) {\n    return Object.prototype.hasOwnProperty.call(target, propertyName);\n}\n\nfunction immutabilityCheckMetaReducer(reducer, checks) {\n    return function (state, action) {\n        const act = checks.action(action) ? freeze(action) : action;\n        const nextState = reducer(state, act);\n        return checks.state() ? freeze(nextState) : nextState;\n    };\n}\nfunction freeze(target) {\n    Object.freeze(target);\n    const targetIsFunction = isFunction(target);\n    Object.getOwnPropertyNames(target).forEach((prop) => {\n        // Ignore Ivy properties, ref: https://github.com/ngrx/platform/issues/2109#issuecomment-582689060\n        if (prop.startsWith('ɵ')) {\n            return;\n        }\n        if (hasOwnProperty(target, prop) &&\n            (targetIsFunction\n                ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments'\n                : true)) {\n            const propValue = target[prop];\n            if ((isObjectLike(propValue) || isFunction(propValue)) &&\n                !Object.isFrozen(propValue)) {\n                freeze(propValue);\n            }\n        }\n    });\n    return target;\n}\n\nfunction serializationCheckMetaReducer(reducer, checks) {\n    return function (state, action) {\n        if (checks.action(action)) {\n            const unserializableAction = getUnserializable(action);\n            throwIfUnserializable(unserializableAction, 'action');\n        }\n        const nextState = reducer(state, action);\n        if (checks.state()) {\n            const unserializableState = getUnserializable(nextState);\n            throwIfUnserializable(unserializableState, 'state');\n        }\n        return nextState;\n    };\n}\nfunction getUnserializable(target, path = []) {\n    // Guard against undefined and null, e.g. a reducer that returns undefined\n    if ((isUndefined(target) || isNull(target)) && path.length === 0) {\n        return {\n            path: ['root'],\n            value: target,\n        };\n    }\n    const keys = Object.keys(target);\n    return keys.reduce((result, key) => {\n        if (result) {\n            return result;\n        }\n        const value = target[key];\n        // Ignore Ivy components\n        if (isComponent(value)) {\n            return result;\n        }\n        if (isUndefined(value) ||\n            isNull(value) ||\n            isNumber(value) ||\n            isBoolean(value) ||\n            isString(value) ||\n            isArray(value)) {\n            return false;\n        }\n        if (isPlainObject(value)) {\n            return getUnserializable(value, [...path, key]);\n        }\n        return {\n            path: [...path, key],\n            value,\n        };\n    }, false);\n}\nfunction throwIfUnserializable(unserializable, context) {\n    if (unserializable === false) {\n        return;\n    }\n    const unserializablePath = unserializable.path.join('.');\n    const error = new Error(`Detected unserializable ${context} at \"${unserializablePath}\". ${RUNTIME_CHECK_URL}#strict${context}serializability`);\n    error.value = unserializable.value;\n    error.unserializablePath = unserializablePath;\n    throw error;\n}\n\nfunction inNgZoneAssertMetaReducer(reducer, checks) {\n    return function (state, action) {\n        if (checks.action(action) && !NgZone.isInAngularZone()) {\n            throw new Error(`Action '${action.type}' running outside NgZone. ${RUNTIME_CHECK_URL}#strictactionwithinngzone`);\n        }\n        return reducer(state, action);\n    };\n}\n\nfunction createActiveRuntimeChecks(runtimeChecks) {\n    if (isDevMode()) {\n        return Object.assign({ strictStateSerializability: false, strictActionSerializability: false, strictStateImmutability: true, strictActionImmutability: true, strictActionWithinNgZone: false, strictActionTypeUniqueness: false }, runtimeChecks);\n    }\n    return {\n        strictStateSerializability: false,\n        strictActionSerializability: false,\n        strictStateImmutability: false,\n        strictActionImmutability: false,\n        strictActionWithinNgZone: false,\n        strictActionTypeUniqueness: false,\n    };\n}\nfunction createSerializationCheckMetaReducer({ strictActionSerializability, strictStateSerializability, }) {\n    return (reducer) => strictActionSerializability || strictStateSerializability\n        ? serializationCheckMetaReducer(reducer, {\n            action: (action) => strictActionSerializability && !ignoreNgrxAction(action),\n            state: () => strictStateSerializability,\n        })\n        : reducer;\n}\nfunction createImmutabilityCheckMetaReducer({ strictActionImmutability, strictStateImmutability, }) {\n    return (reducer) => strictActionImmutability || strictStateImmutability\n        ? immutabilityCheckMetaReducer(reducer, {\n            action: (action) => strictActionImmutability && !ignoreNgrxAction(action),\n            state: () => strictStateImmutability,\n        })\n        : reducer;\n}\nfunction ignoreNgrxAction(action) {\n    return action.type.startsWith('@ngrx');\n}\nfunction createInNgZoneCheckMetaReducer({ strictActionWithinNgZone, }) {\n    return (reducer) => strictActionWithinNgZone\n        ? inNgZoneAssertMetaReducer(reducer, {\n            action: (action) => strictActionWithinNgZone && !ignoreNgrxAction(action),\n        })\n        : reducer;\n}\nfunction provideRuntimeChecks(runtimeChecks) {\n    return [\n        {\n            provide: _USER_RUNTIME_CHECKS,\n            useValue: runtimeChecks,\n        },\n        {\n            provide: USER_RUNTIME_CHECKS,\n            useFactory: _runtimeChecksFactory,\n            deps: [_USER_RUNTIME_CHECKS],\n        },\n        {\n            provide: ACTIVE_RUNTIME_CHECKS,\n            deps: [USER_RUNTIME_CHECKS],\n            useFactory: createActiveRuntimeChecks,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createImmutabilityCheckMetaReducer,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createSerializationCheckMetaReducer,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createInNgZoneCheckMetaReducer,\n        },\n    ];\n}\nfunction checkForActionTypeUniqueness() {\n    return [\n        {\n            provide: _ACTION_TYPE_UNIQUENESS_CHECK,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: _actionTypeUniquenessCheck,\n        },\n    ];\n}\nfunction _runtimeChecksFactory(runtimeChecks) {\n    return runtimeChecks;\n}\nfunction _actionTypeUniquenessCheck(config) {\n    if (!config.strictActionTypeUniqueness) {\n        return;\n    }\n    const duplicates = Object.entries(REGISTERED_ACTION_TYPES)\n        .filter(([, registrations]) => registrations > 1)\n        .map(([type]) => type);\n    if (duplicates.length) {\n        throw new Error(`Action types are registered more than once, ${duplicates\n            .map((type) => `\"${type}\"`)\n            .join(', ')}. ${RUNTIME_CHECK_URL}#strictactiontypeuniqueness`);\n    }\n}\n\nclass StoreRootModule {\n    constructor(actions$, reducer$, scannedActions$, store, guard, actionCheck) { }\n}\nStoreRootModule.ɵfac = function StoreRootModule_Factory(t) { return new (t || StoreRootModule)(ɵngcc0.ɵɵinject(ActionsSubject), ɵngcc0.ɵɵinject(ReducerObservable), ɵngcc0.ɵɵinject(ScannedActionsSubject), ɵngcc0.ɵɵinject(Store), ɵngcc0.ɵɵinject(_ROOT_STORE_GUARD, 8), ɵngcc0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8)); };\nStoreRootModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: StoreRootModule });\nStoreRootModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n/** @nocollapse */\nStoreRootModule.ctorParameters = () => [\n    { type: ActionsSubject },\n    { type: ReducerObservable },\n    { type: ScannedActionsSubject },\n    { type: Store },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [_ROOT_STORE_GUARD,] }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [_ACTION_TYPE_UNIQUENESS_CHECK,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreRootModule, [{\n        type: NgModule,\n        args: [{}]\n    }], function () { return [{ type: ActionsSubject }, { type: ReducerObservable }, { type: ScannedActionsSubject }, { type: Store }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [_ROOT_STORE_GUARD]\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n            }] }]; }, null); })();\nclass StoreFeatureModule {\n    constructor(features, featureReducers, reducerManager, root, actionCheck) {\n        this.features = features;\n        this.featureReducers = featureReducers;\n        this.reducerManager = reducerManager;\n        const feats = features.map((feature, index) => {\n            const featureReducerCollection = featureReducers.shift();\n            const reducers = featureReducerCollection /*TODO(#823)*/[index];\n            return Object.assign(Object.assign({}, feature), { reducers, initialState: _initialStateFactory(feature.initialState) });\n        });\n        reducerManager.addFeatures(feats);\n    }\n    ngOnDestroy() {\n        this.reducerManager.removeFeatures(this.features);\n    }\n}\nStoreFeatureModule.ɵfac = function StoreFeatureModule_Factory(t) { return new (t || StoreFeatureModule)(ɵngcc0.ɵɵinject(_STORE_FEATURES), ɵngcc0.ɵɵinject(FEATURE_REDUCERS), ɵngcc0.ɵɵinject(ReducerManager), ɵngcc0.ɵɵinject(StoreRootModule), ɵngcc0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8)); };\nStoreFeatureModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: StoreFeatureModule });\nStoreFeatureModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n/** @nocollapse */\nStoreFeatureModule.ctorParameters = () => [\n    { type: Array, decorators: [{ type: Inject, args: [_STORE_FEATURES,] }] },\n    { type: Array, decorators: [{ type: Inject, args: [FEATURE_REDUCERS,] }] },\n    { type: ReducerManager },\n    { type: StoreRootModule },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [_ACTION_TYPE_UNIQUENESS_CHECK,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreFeatureModule, [{\n        type: NgModule,\n        args: [{}]\n    }], function () { return [{ type: Array, decorators: [{\n                type: Inject,\n                args: [_STORE_FEATURES]\n            }] }, { type: Array, decorators: [{\n                type: Inject,\n                args: [FEATURE_REDUCERS]\n            }] }, { type: ReducerManager }, { type: StoreRootModule }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n            }] }]; }, null); })();\nclass StoreModule {\n    static forRoot(reducers, config = {}) {\n        return {\n            ngModule: StoreRootModule,\n            providers: [\n                {\n                    provide: _ROOT_STORE_GUARD,\n                    useFactory: _provideForRootGuard,\n                    deps: [[Store, new Optional(), new SkipSelf()]],\n                },\n                { provide: _INITIAL_STATE, useValue: config.initialState },\n                {\n                    provide: INITIAL_STATE,\n                    useFactory: _initialStateFactory,\n                    deps: [_INITIAL_STATE],\n                },\n                { provide: _INITIAL_REDUCERS, useValue: reducers },\n                {\n                    provide: _STORE_REDUCERS,\n                    useExisting: reducers instanceof InjectionToken ? reducers : _INITIAL_REDUCERS,\n                },\n                {\n                    provide: INITIAL_REDUCERS,\n                    deps: [Injector, _INITIAL_REDUCERS, [new Inject(_STORE_REDUCERS)]],\n                    useFactory: _createStoreReducers,\n                },\n                {\n                    provide: USER_PROVIDED_META_REDUCERS,\n                    useValue: config.metaReducers ? config.metaReducers : [],\n                },\n                {\n                    provide: _RESOLVED_META_REDUCERS,\n                    deps: [META_REDUCERS, USER_PROVIDED_META_REDUCERS],\n                    useFactory: _concatMetaReducers,\n                },\n                {\n                    provide: _REDUCER_FACTORY,\n                    useValue: config.reducerFactory\n                        ? config.reducerFactory\n                        : combineReducers,\n                },\n                {\n                    provide: REDUCER_FACTORY,\n                    deps: [_REDUCER_FACTORY, _RESOLVED_META_REDUCERS],\n                    useFactory: createReducerFactory,\n                },\n                ACTIONS_SUBJECT_PROVIDERS,\n                REDUCER_MANAGER_PROVIDERS,\n                SCANNED_ACTIONS_SUBJECT_PROVIDERS,\n                STATE_PROVIDERS,\n                STORE_PROVIDERS,\n                provideRuntimeChecks(config.runtimeChecks),\n                checkForActionTypeUniqueness(),\n            ],\n        };\n    }\n    static forFeature(featureNameOrSlice, reducersOrConfig, config = {}) {\n        return {\n            ngModule: StoreFeatureModule,\n            providers: [\n                {\n                    provide: _FEATURE_CONFIGS,\n                    multi: true,\n                    useValue: featureNameOrSlice instanceof Object ? {} : config,\n                },\n                {\n                    provide: STORE_FEATURES,\n                    multi: true,\n                    useValue: {\n                        key: featureNameOrSlice instanceof Object\n                            ? featureNameOrSlice.name\n                            : featureNameOrSlice,\n                        reducerFactory: !(config instanceof InjectionToken) && config.reducerFactory\n                            ? config.reducerFactory\n                            : combineReducers,\n                        metaReducers: !(config instanceof InjectionToken) && config.metaReducers\n                            ? config.metaReducers\n                            : [],\n                        initialState: !(config instanceof InjectionToken) && config.initialState\n                            ? config.initialState\n                            : undefined,\n                    },\n                },\n                {\n                    provide: _STORE_FEATURES,\n                    deps: [Injector, _FEATURE_CONFIGS, STORE_FEATURES],\n                    useFactory: _createFeatureStore,\n                },\n                {\n                    provide: _FEATURE_REDUCERS,\n                    multi: true,\n                    useValue: featureNameOrSlice instanceof Object\n                        ? featureNameOrSlice.reducer\n                        : reducersOrConfig,\n                },\n                {\n                    provide: _FEATURE_REDUCERS_TOKEN,\n                    multi: true,\n                    useExisting: reducersOrConfig instanceof InjectionToken\n                        ? reducersOrConfig\n                        : _FEATURE_REDUCERS,\n                },\n                {\n                    provide: FEATURE_REDUCERS,\n                    multi: true,\n                    deps: [\n                        Injector,\n                        _FEATURE_REDUCERS,\n                        [new Inject(_FEATURE_REDUCERS_TOKEN)],\n                    ],\n                    useFactory: _createFeatureReducers,\n                },\n                checkForActionTypeUniqueness(),\n            ],\n        };\n    }\n}\nStoreModule.ɵfac = function StoreModule_Factory(t) { return new (t || StoreModule)(); };\nStoreModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: StoreModule });\nStoreModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(StoreModule, [{\n        type: NgModule,\n        args: [{}]\n    }], null, null); })();\nfunction _createStoreReducers(injector, reducers) {\n    return reducers instanceof InjectionToken ? injector.get(reducers) : reducers;\n}\nfunction _createFeatureStore(injector, configs, featureStores) {\n    return featureStores.map((feat, index) => {\n        if (configs[index] instanceof InjectionToken) {\n            const conf = injector.get(configs[index]);\n            return {\n                key: feat.key,\n                reducerFactory: conf.reducerFactory\n                    ? conf.reducerFactory\n                    : combineReducers,\n                metaReducers: conf.metaReducers ? conf.metaReducers : [],\n                initialState: conf.initialState,\n            };\n        }\n        return feat;\n    });\n}\nfunction _createFeatureReducers(injector, reducerCollection) {\n    const reducers = reducerCollection.map((reducer) => {\n        return reducer instanceof InjectionToken ? injector.get(reducer) : reducer;\n    });\n    return reducers;\n}\nfunction _initialStateFactory(initialState) {\n    if (typeof initialState === 'function') {\n        return initialState();\n    }\n    return initialState;\n}\nfunction _concatMetaReducers(metaReducers, userProvidedMetaReducers) {\n    return metaReducers.concat(userProvidedMetaReducers);\n}\nfunction _provideForRootGuard(store) {\n    if (store) {\n        throw new TypeError(`StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.`);\n    }\n    return 'guarded';\n}\n\n/**\n * @description\n * Associates actions with a given state change function.\n * A state change function must be provided as the last parameter.\n *\n * @param args `ActionCreator`'s followed by a state change function.\n *\n * @returns an association of action types with a state change function.\n *\n * @usageNotes\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n */\nfunction on(...args) {\n    // This could be refactored when TS releases the version with this fix:\n    // https://github.com/microsoft/TypeScript/pull/41544\n    const reducer = args.pop();\n    const types = args.map((creator) => creator.type);\n    return { reducer, types };\n}\n/**\n * @description\n * Creates a reducer function to handle state transitions.\n *\n * Reducer creators reduce the explicitness of reducer functions with switch statements.\n *\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @param ons Associations between actions and state changes.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.\n * - The returned `ActionReducer` should additionally be wrapped with another function, if you are using View Engine AOT.\n * In case you are using Ivy (or only JIT View Engine) the extra wrapper function is not required.\n *\n * **Declaring a reducer creator**\n *\n * ```ts\n * export const reducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n * ```\n *\n * **Declaring a reducer creator using a wrapper function (Only needed if using View Engine AOT)**\n *\n * ```ts\n * const featureReducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n *\n * export function reducer(state: State | undefined, action: Action) {\n *   return featureReducer(state, action);\n * }\n * ```\n */\nfunction createReducer(initialState, ...ons) {\n    const map = new Map();\n    for (let on of ons) {\n        for (let type of on.types) {\n            const existingReducer = map.get(type);\n            if (existingReducer) {\n                const newReducer = (state, action) => on.reducer(existingReducer(state, action), action);\n                map.set(type, newReducer);\n            }\n            else {\n                map.set(type, on.reducer);\n            }\n        }\n    }\n    return function (state = initialState, action) {\n        const reducer = map.get(action.type);\n        return reducer ? reducer(state, action) : state;\n    };\n}\n\n/**\n * DO NOT EDIT\n *\n * This file is automatically generated at build\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ACTIVE_RUNTIME_CHECKS, ActionsSubject, FEATURE_REDUCERS, INIT, INITIAL_REDUCERS, INITIAL_STATE, META_REDUCERS, REDUCER_FACTORY, ReducerManager, ReducerManagerDispatcher, ReducerObservable, STORE_FEATURES, ScannedActionsSubject, State, StateObservable, Store, StoreFeatureModule, StoreModule, StoreRootModule, UPDATE, USER_PROVIDED_META_REDUCERS, USER_RUNTIME_CHECKS, combineReducers, compose, createAction, createFeatureSelector, createReducer, createReducerFactory, createSelector, createSelectorFactory, defaultMemoize, defaultStateFn, isNgrxMockEnvironment, on, props, reduceState, resultMemoize, select, setNgrxMockEnvironment, union, STORE_PROVIDERS as ɵb, createSerializationCheckMetaReducer as ɵba, createImmutabilityCheckMetaReducer as ɵbb, createInNgZoneCheckMetaReducer as ɵbc, provideRuntimeChecks as ɵbd, checkForActionTypeUniqueness as ɵbe, _runtimeChecksFactory as ɵbf, _actionTypeUniquenessCheck as ɵbg, ACTIONS_SUBJECT_PROVIDERS as ɵc, REDUCER_MANAGER_PROVIDERS as ɵd, SCANNED_ACTIONS_SUBJECT_PROVIDERS as ɵe, isEqualCheck as ɵf, STATE_PROVIDERS as ɵg, _ROOT_STORE_GUARD as ɵh, _INITIAL_STATE as ɵi, _REDUCER_FACTORY as ɵj, _INITIAL_REDUCERS as ɵk, _STORE_REDUCERS as ɵl, _FEATURE_REDUCERS as ɵm, _FEATURE_CONFIGS as ɵn, _STORE_FEATURES as ɵo, _FEATURE_REDUCERS_TOKEN as ɵp, _RESOLVED_META_REDUCERS as ɵq, _USER_RUNTIME_CHECKS as ɵr, _ACTION_TYPE_UNIQUENESS_CHECK as ɵs, _createStoreReducers as ɵt, _createFeatureStore as ɵu, _createFeatureReducers as ɵv, _initialStateFactory as ɵw, _concatMetaReducers as ɵx, _provideForRootGuard as ɵy, createActiveRuntimeChecks as ɵz };\n\n//# sourceMappingURL=ngrx-store.js.map"]},"metadata":{},"sourceType":"module"}